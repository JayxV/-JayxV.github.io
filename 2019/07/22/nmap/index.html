<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="note,">










<meta name="description" content="nmap前言：后天要参加人生第一次awd线下攻防了，今天赶紧突击一下，先学习一下nmap的一些常规操作 引入：1) 获取远程主机的系统类型及开放端口 1nmap -sS -P0 -sV -O &amp;lt;target&amp;gt;  这里的 &amp;lt; target &amp;gt; 可以是单一 IP, 或主机名，或域名，或子网 -sS TCP SYN 扫描 (又称半开放,或隐身扫描)-P0 允许你关闭 ICMP p">
<meta name="keywords" content="note">
<meta property="og:type" content="article">
<meta property="og:title" content="nmap">
<meta property="og:url" content="http://yoursite.com/2019/07/22/nmap/index.html">
<meta property="og:site_name" content="V&#39;s blog">
<meta property="og:description" content="nmap前言：后天要参加人生第一次awd线下攻防了，今天赶紧突击一下，先学习一下nmap的一些常规操作 引入：1) 获取远程主机的系统类型及开放端口 1nmap -sS -P0 -sV -O &amp;lt;target&amp;gt;  这里的 &amp;lt; target &amp;gt; 可以是单一 IP, 或主机名，或域名，或子网 -sS TCP SYN 扫描 (又称半开放,或隐身扫描)-P0 允许你关闭 ICMP p">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-07-22T08:07:44.427Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="nmap">
<meta name="twitter:description" content="nmap前言：后天要参加人生第一次awd线下攻防了，今天赶紧突击一下，先学习一下nmap的一些常规操作 引入：1) 获取远程主机的系统类型及开放端口 1nmap -sS -P0 -sV -O &amp;lt;target&amp;gt;  这里的 &amp;lt; target &amp;gt; 可以是单一 IP, 或主机名，或域名，或子网 -sS TCP SYN 扫描 (又称半开放,或隐身扫描)-P0 允许你关闭 ICMP p">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/07/22/nmap/">





  <title>nmap | V's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">V's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/22/nmap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="V">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="V's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">nmap</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-22T16:07:55+08:00">
                2019-07-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h1><h2 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h2><p>后天要参加人生第一次awd线下攻防了，今天赶紧突击一下，先学习一下nmap的一些常规操作</p>
<h3 id="引入："><a href="#引入：" class="headerlink" title="引入："></a>引入：</h3><p><strong>1) 获取远程主机的系统类型及开放端口</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sS -P0 -sV -O &lt;target&gt;</span><br></pre></td></tr></table></figure>

<p>这里的 &lt; target &gt; 可以是单一 IP, 或主机名，或域名，或子网</p>
<p>-sS TCP SYN 扫描 (又称半开放,或隐身扫描)<br>-P0 允许你关闭 ICMP pings.<br>-sV 打开系统版本检测<br>-O 尝试识别远程操作系统</p>
<p>其它选项:</p>
<p>-A 同时打开操作系统指纹和版本检测<br>-v 详细输出扫描情况.</p>
<p><strong>2) 列出开放了指定端口的主机列表</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sT -p 80 -oG – 192.168.1.* | grep open</span><br></pre></td></tr></table></figure>

<p><strong>3) 在网络寻找所有在线主机</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sP 192.168.0.*</span><br></pre></td></tr></table></figure>

<p>或者也可用以下命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sP 192.168.0.0/24</span><br></pre></td></tr></table></figure>

<p>指定 subnet</p>
<p><strong>4) Ping 指定范围内的 IP 地址</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sP 192.168.1.100-254</span><br></pre></td></tr></table></figure>

<p><strong>5) 在某段子网上查找未占用的 IP</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -T4 -sP 192.168.2.0/24 &amp;&amp; egrep “00:00:00:00:00:00″ /proc/net/arp</span><br></pre></td></tr></table></figure>

<p><strong>6) 在局域网上扫找 Conficker 蠕虫病毒</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -PN -T4 -p139,445 -n -v –script=smb-check-vulns –script-args safe=1 192.168.0.1-254</span><br></pre></td></tr></table></figure>

<p><strong>7) 扫描网络上的恶意接入点 （rogue APs）.</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nmap -A -p1-85,113,443,8080-8100 -T4 –min-hostgroup 50 –max-rtt-timeout</span><br><span class="line">2000 –initial-rtt-timeout 300 –max-retries 3 –host-timeout 20m</span><br><span class="line">–max-scan-delay 1000 -oA wapscan 10.0.0.0/8</span><br></pre></td></tr></table></figure>

<p><strong>8 ) 使用诱饵扫描方法来扫描主机端口</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -sS 192.168.0.10 -D 192.168.0.2</span><br></pre></td></tr></table></figure>

<p><strong>9) 为一个子网列出反向DNS记录</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -R -sL 209.85.229.99/27 | awk ‘&#123;if($3==”not”)print”(“$2″) no PTR”;else print$3″ is “$2&#125;’ | grep ‘(‘</span><br></pre></td></tr></table></figure>

<p><strong>10) 显示网络上共有多少台 Linux 及 Win 设备?</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -F -O 192.168.0.1-255 | grep “Running: ” &gt; /tmp/os; echo “$(cat /tmp/os | grep Linux \</span><br><span class="line">| wc -l) Linux device(s)”; echo “$(cat /tmp/os | grep Windows | wc -l) Window(s) device”</span><br></pre></td></tr></table></figure>

<p>### </p>
<h3 id="1-用主机名和IP地址扫描系统"><a href="#1-用主机名和IP地址扫描系统" class="headerlink" title="1. 用主机名和IP地址扫描系统"></a>1. 用主机名和IP地址扫描系统</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap server2.tecmint.com（192.168.0.101）</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 15:42 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.415 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="2-扫描使用“-v”选项"><a href="#2-扫描使用“-v”选项" class="headerlink" title="2.扫描使用“-v”选项"></a>2.扫描使用“-v”选项</h3><p>你可以看到下面的命令使用“ <strong>-</strong>v “选项后给出了远程机器更详细的信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -v server2.tecmint.com</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 15:43 EST</span><br><span class="line">Initiating ARP Ping Scan against 192.168.0.101 [1 port] at 15:43</span><br><span class="line">The ARP Ping Scan took 0.01s to scan 1 total hosts.</span><br><span class="line">Initiating SYN Stealth Scan against server2.tecmint.com (192.168.0.101) [1680 ports] at 15:43</span><br><span class="line">Discovered open port 22/tcp on 192.168.0.101</span><br><span class="line">Discovered open port 80/tcp on 192.168.0.101</span><br><span class="line">Discovered open port 8888/tcp on 192.168.0.101</span><br><span class="line">Discovered open port 111/tcp on 192.168.0.101</span><br><span class="line">Discovered open port 3306/tcp on 192.168.0.101</span><br><span class="line">Discovered open port 957/tcp on 192.168.0.101</span><br><span class="line">The SYN Stealth Scan took 0.30s to scan 1680 total ports.</span><br><span class="line">Host server2.tecmint.com (192.168.0.101) appears to be up ... good.</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.485 seconds</span><br><span class="line">               Raw packets sent: 1681 (73.962KB) | Rcvd: 1681 (77.322KB)</span><br></pre></td></tr></table></figure>

<h3 id="3-扫描多台主机"><a href="#3-扫描多台主机" class="headerlink" title="3.扫描多台主机"></a>3.扫描多台主机</h3><p>你可以简单的在Nmap命令后加上多个IP地址或主机名来扫描多台主机。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap 192.168.0.101 192.168.0.102 192.168.0.103 </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:06 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line">Nmap finished: 3 IP addresses (1 host up) scanned in 0.580 seconds</span><br></pre></td></tr></table></figure>

<h3 id="4-扫描整个子网"><a href="#4-扫描整个子网" class="headerlink" title="4.扫描整个子网 *"></a>4.扫描整个子网 *</h3><p>你可以使用*通配符来扫描整个子网或某个范围的IP地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap 192.168.0.*</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:11 EST</span><br><span class="line">Interesting ports on server1.tecmint.com (192.168.0.100):</span><br><span class="line">Not shown: 1677 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">851/tcp open  unknown</span><br><span class="line"> </span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 256 IP addresses (2 hosts up) scanned in 5.550 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="5-使用IP地址的最后一个字节扫描多台服务器-，"><a href="#5-使用IP地址的最后一个字节扫描多台服务器-，" class="headerlink" title="5.使用IP地址的最后一个字节扫描多台服务器 ，"></a>5.使用IP地址的最后一个字节扫描多台服务器 ，</h3><p>你可以简单的指定IP地址的最后一个字节来对多个IP地址进行扫描。例如，我在下面执行中扫描了IP地址192.168.0.101，192.168.0.102和192.168.0.103。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap 192.168.0.101,102,103 </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:09 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 3 IP addresses (1 host up) scanned in 0.552 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="6-从一个文件中扫描主机列表-iL"><a href="#6-从一个文件中扫描主机列表-iL" class="headerlink" title="6. 从一个文件中扫描主机列表 -iL"></a>6. 从一个文件中扫描主机列表 -iL</h3><p>如果你有多台主机需要扫描且所有主机信息都写在一个文件中，那么你可以直接让nmap读取该文件来执行扫描，让我们来看看如何做到这一点。</p>
<p>创建一个名为“nmaptest.txt ”的文本文件，并定义所有你想要扫描的服务器IP地址或主机名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# cat  nmaptest.txt </span><br><span class="line">localhost</span><br><span class="line">server2.tecmint.com</span><br><span class="line">192.168.0.101</span><br></pre></td></tr></table></figure>

<p>接下来运行带“iL”选项的nmap命令来扫描文件中列出的所有IP地址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -iL nmaptest.txt </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-18 10:58 EST</span><br><span class="line">Interesting ports on localhost.localdomain (127.0.0.1):</span><br><span class="line">Not shown: 1675 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">25/tcp  open  smtp</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">631/tcp open  ipp</span><br><span class="line">857/tcp open  unknown</span><br><span class="line"> </span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">958/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems) </span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">958/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems) </span><br><span class="line">Nmap finished: 3 IP addresses (3 hosts up) scanned in 2.047 seconds</span><br></pre></td></tr></table></figure>

<h3 id="7-扫描一个IP地址范围"><a href="#7-扫描一个IP地址范围" class="headerlink" title="7.扫描一个IP地址范围 -"></a>7.扫描一个IP地址范围 -</h3><p>你可以在nmap执行扫描时指定IP范围。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap 192.168.0.101-110 </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:09 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems) </span><br><span class="line">Nmap finished: 10 IP addresses (1 host up) scanned in 0.542 seconds</span><br></pre></td></tr></table></figure>

<h3 id="8-排除一些远程主机后再扫描–exclude"><a href="#8-排除一些远程主机后再扫描–exclude" class="headerlink" title="8.排除一些远程主机后再扫描–exclude"></a>8.排除一些远程主机后再扫描–exclude</h3><p>在执行全网扫描或用通配符扫描时你可以使用“–exclude”选项来排除某些你不想要扫描的主机。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap 192.168.0.* --exclude 192.168.0.100</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:16 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 255 IP addresses (1 host up) scanned in 5.313 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="9-扫描操作系统信息和路由跟踪-A"><a href="#9-扫描操作系统信息和路由跟踪-A" class="headerlink" title="9.扫描操作系统信息和路由跟踪-A"></a>9.扫描操作系统信息和路由跟踪-A</h3><p>使用Nmap，你可以检测远程主机上运行的操作系统和版本。为了启用操作系统和版本检测，脚本扫描和路由跟踪功能，我们可以使用NMAP的“<strong>-A</strong>“选项。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -A 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:25 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line">22/tcp   open  ssh     OpenSSH 4.3 (protocol 2.0)</span><br><span class="line">80/tcp   open  http    Apache httpd 2.2.3 ((CentOS))</span><br><span class="line">111/tcp  open  rpcbind  2 (rpc #100000)</span><br><span class="line">957/tcp  open  status   1 (rpc #100024)</span><br><span class="line">3306/tcp open  mysql   MySQL (unauthorized)</span><br><span class="line">8888/tcp open  http    lighttpd 1.4.32</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line">No exact OS matches for host (If you know what OS is running on it, see http://www.insecure.org/cgi-bin/nmap-submit.cgi).</span><br><span class="line">TCP/IP fingerprint:</span><br><span class="line">SInfo(V=4.11%P=i686-redhat-linux-gnu%D=11/11%Tm=52814B66%O=22%C=1%M=080027)</span><br><span class="line">TSeq(Class=TR%IPID=Z%TS=1000HZ)</span><br><span class="line">T1(Resp=Y%DF=Y%W=16A0%ACK=S++%Flags=AS%Ops=MNNTNW)</span><br><span class="line">T2(Resp=N)</span><br><span class="line">T3(Resp=Y%DF=Y%W=16A0%ACK=S++%Flags=AS%Ops=MNNTNW)</span><br><span class="line">T4(Resp=Y%DF=Y%W=0%ACK=O%Flags=R%Ops=)</span><br><span class="line">T5(Resp=Y%DF=Y%W=0%ACK=S++%Flags=AR%Ops=)</span><br><span class="line">T6(Resp=Y%DF=Y%W=0%ACK=O%Flags=R%Ops=)</span><br><span class="line">T7(Resp=Y%DF=Y%W=0%ACK=S++%Flags=AR%Ops=)</span><br><span class="line">PU(Resp=Y%DF=N%TOS=C0%IPLEN=164%RIPTL=148%RID=E%RIPCK=E%UCK=E%ULEN=134%DAT=E)</span><br><span class="line"> </span><br><span class="line">Uptime 0.169 days (since Mon Nov 11 12:22:15 2013)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 22.271 seconds</span><br></pre></td></tr></table></figure>

<p>从上面的输出你可以看到，Nmap显示出了远程主机<strong>操作系统的TCP</strong> / <strong>IP</strong>协议指纹，并且更加具体的显示出远程主机上的端口和服务。</p>
<h3 id="10-启用Nmap的操作系统探测功能-O"><a href="#10-启用Nmap的操作系统探测功能-O" class="headerlink" title="10.启用Nmap的操作系统探测功能-O"></a>10.启用Nmap的操作系统探测功能-O</h3><p>使用选项“<strong>-O</strong>”和“<strong>-osscan-guess</strong>”也帮助探测操作系统信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -O server2.tecmint.com</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 17:40 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line">No exact OS matches for host (If you know what OS is running on it, see http://www.insecure.org/cgi-bin/nmap-submit.cgi).</span><br><span class="line">TCP/IP fingerprint:</span><br><span class="line">SInfo(V=4.11%P=i686-redhat-linux-gnu%D=11/11%Tm=52815CF4%O=22%C=1%M=080027)</span><br><span class="line">TSeq(Class=TR%IPID=Z%TS=1000HZ)</span><br><span class="line">T1(Resp=Y%DF=Y%W=16A0%ACK=S++%Flags=AS%Ops=MNNTNW)</span><br><span class="line">T2(Resp=N)</span><br><span class="line">T3(Resp=Y%DF=Y%W=16A0%ACK=S++%Flags=AS%Ops=MNNTNW)</span><br><span class="line">T4(Resp=Y%DF=Y%W=0%ACK=O%Flags=Option -O and -osscan-guess also helps to discover OS</span><br><span class="line">R%Ops=)</span><br><span class="line">T5(Resp=Y%DF=Y%W=0%ACK=S++%Flags=AR%Ops=)</span><br><span class="line">T6(Resp=Y%DF=Y%W=0%ACK=O%Flags=R%Ops=)</span><br><span class="line">T7(Resp=Y%DF=Y%W=0%ACK=S++%Flags=AR%Ops=)</span><br><span class="line">PU(Resp=Y%DF=N%TOS=C0%IPLEN=164%RIPTL=148%RID=E%RIPCK=E%UCK=E%ULEN=134%DAT=E)</span><br><span class="line"> </span><br><span class="line">Uptime 0.221 days (since Mon Nov 11 12:22:16 2013)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 11.064 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="11-扫描主机侦测防火墙-sA"><a href="#11-扫描主机侦测防火墙-sA" class="headerlink" title="11.扫描主机侦测防火墙-sA"></a>11.扫描主机侦测防火墙-sA</h3><p>下面的命令将扫描远程主机以探测该主机是否使用了包过滤器或防火墙。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -sA 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:27 EST</span><br><span class="line">All 1680 scanned ports on server2.tecmint.com (192.168.0.101) are UNfiltered</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.382 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="12-扫描主机检测是否有防火墙保护-PN"><a href="#12-扫描主机检测是否有防火墙保护-PN" class="headerlink" title="12.扫描主机检测是否有防火墙保护-PN"></a>12.扫描主机检测是否有防火墙保护-PN</h3><p>扫描主机检测其是否受到数据包过滤软件或防火墙的保护。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -PN 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:30 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.399 seconds</span><br></pre></td></tr></table></figure>

<h3 id="13-找出网络中的在线主机-sP"><a href="#13-找出网络中的在线主机-sP" class="headerlink" title="13.找出网络中的在线主机-sP"></a>13.找出网络中的在线主机-sP</h3><p>使用“<strong>-sP</strong>”选项，我们可以简单的检测网络中有哪些在线主机，该选项会跳过端口扫描和其他一些检测。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -sP 192.168.0.*</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-18 11:01 EST</span><br><span class="line">Host server1.tecmint.com (192.168.0.100) appears to be up.</span><br><span class="line">Host server2.tecmint.com (192.168.0.101) appears to be up.</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line">Nmap finished: 256 IP addresses (2 hosts up) scanned in 5.109 seconds</span><br></pre></td></tr></table></figure>

<h3 id="14-执行快速扫描-F"><a href="#14-执行快速扫描-F" class="headerlink" title="14.执行快速扫描-F"></a>14.执行快速扫描-F</h3><p>你可以使用“<strong>-F</strong>”选项执行一次快速扫描，仅扫描列在nmap-services文件中的端口而避开所有其它的端口。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -F 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:47 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1234 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.322 seconds</span><br></pre></td></tr></table></figure>

<h3 id="15-查看Nmap的版本"><a href="#15-查看Nmap的版本" class="headerlink" title="15.查看Nmap的版本"></a>15.查看Nmap的版本</h3><p>你可以使用“<strong>-V</strong>”选项来检测你机子上Nmap的版本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -V</span><br><span class="line"> </span><br><span class="line">Nmap version 4.11 ( http://www.insecure.org/nmap/ )</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="16-顺序扫描端口-r"><a href="#16-顺序扫描端口-r" class="headerlink" title="16.顺序扫描端口-r"></a>16.顺序扫描端口-r</h3><p>使用“-r”选项表示不会随机的选择端口扫描。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -r 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 16:52 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.363 seconds</span><br></pre></td></tr></table></figure>

<h3 id="17-打印主机接口和路由-iflist"><a href="#17-打印主机接口和路由-iflist" class="headerlink" title="17.打印主机接口和路由-iflist"></a>17.打印主机接口和路由-iflist</h3><p>你可以使用nmap的“<strong>–iflist</strong>”选项检测主机接口和路由信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap --iflist</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 17:07 EST</span><br><span class="line">************************INTERFACES************************</span><br><span class="line">DEV  (SHORT) IP/MASK          TYPE     UP MAC</span><br><span class="line">lo   (lo)    127.0.0.1/8      loopback up</span><br><span class="line">eth0 (eth0)  192.168.0.100/24 ethernet up 08:00:27:11:C7:89</span><br><span class="line"> </span><br><span class="line">**************************ROUTES**************************</span><br><span class="line">DST/MASK      DEV  GATEWAY</span><br><span class="line">192.168.0.0/0 eth0</span><br><span class="line">169.254.0.0/0 eth0</span><br></pre></td></tr></table></figure>

<p>从上面的输出你可以看到，nmap列举出了你系统上的接口以及它们各自的路由信息。</p>
<h3 id="18-扫描特定的端口-p"><a href="#18-扫描特定的端口-p" class="headerlink" title="18.扫描特定的端口-p"></a>18.扫描特定的端口-p</h3><p>使用Nmap扫描远程机器的端口有各种选项，你可以使用“-<strong>p</strong>”选项指定你想要扫描的端口，默认情况下nmap只扫描<strong>TCP</strong>端口。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -p 80 server2.tecmint.com</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 17:12 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">PORT   STATE SERVICE</span><br><span class="line">80/tcp open  http</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) sca</span><br></pre></td></tr></table></figure>

<h3 id="19-扫描TCP端口-p-T"><a href="#19-扫描TCP端口-p-T" class="headerlink" title="19.扫描TCP端口-p T:"></a>19.扫描TCP端口-p T:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -p T:8888,80 server2.tecmint.com</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 17:15 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">80/tcp   open  http</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.157 seconds</span><br></pre></td></tr></table></figure>

<h3 id="20-扫描UDP端口-sU"><a href="#20-扫描UDP端口-sU" class="headerlink" title="20.扫描UDP端口-sU"></a>20.扫描UDP端口-sU</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -sU 53 server2.tecmint.com</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 17:15 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">53/udp   open  http</span><br><span class="line">8888/udp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.157 seconds</span><br></pre></td></tr></table></figure>

<h3 id="21-扫描多个端口"><a href="#21-扫描多个端口" class="headerlink" title="21.扫描多个端口"></a>21.扫描多个端口</h3><p>你还可以使用选项“-<strong>P</strong>”来扫描多个端口。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -p 80,443 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-18 10:56 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">PORT    STATE  SERVICE</span><br><span class="line">80/tcp  open   http</span><br><span class="line">443/tcp closed https</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.190 seconds</span><br></pre></td></tr></table></figure>

<h3 id="22-扫描指定范围内的端口"><a href="#22-扫描指定范围内的端口" class="headerlink" title="22.扫描指定范围内的端口"></a>22.扫描指定范围内的端口</h3><p>您可以使用表达式来扫描某个范围内的端口。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]#  nmap -p 80-160 192.168.0.101</span><br></pre></td></tr></table></figure>

<h3 id="23-查找主机服务版本号-sV"><a href="#23-查找主机服务版本号-sV" class="headerlink" title="23.查找主机服务版本号-sV"></a>23.查找主机服务版本号-sV</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -sV 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 17:48 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line">22/tcp   open  ssh     OpenSSH 4.3 (protocol 2.0)</span><br><span class="line">80/tcp   open  http    Apache httpd 2.2.3 ((CentOS))</span><br><span class="line">111/tcp  open  rpcbind  2 (rpc #100000)</span><br><span class="line">957/tcp  open  status   1 (rpc #100024)</span><br><span class="line">3306/tcp open  mysql   MySQL (unauthorized)</span><br><span class="line">8888/tcp open  http    lighttpd 1.4.32</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 12.624 seconds</span><br></pre></td></tr></table></figure>

<h3 id="24-使用TCP-ACK-PA-和TCP-Syn-PS-扫描远程主机"><a href="#24-使用TCP-ACK-PA-和TCP-Syn-PS-扫描远程主机" class="headerlink" title="24.使用TCP ACK (-PA)和TCP Syn (-PS)扫描远程主机"></a>24.使用TCP ACK (-PA)和TCP Syn (-PS)扫描远程主机</h3><p>有时候包过滤防火墙会阻断标准的ICMP ping请求，在这种情况下，我们可以使用<strong>TCP ACK</strong>和<strong>TCP Syn</strong>（tcp探测扫描）方法来扫描远程主机。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -PS 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 17:51 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.360 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="25-使用TCP-ACK扫描远程主机上特定的端口-PA-p"><a href="#25-使用TCP-ACK扫描远程主机上特定的端口-PA-p" class="headerlink" title="25.使用TCP ACK扫描远程主机上特定的端口-PA -p"></a>25.使用TCP ACK扫描远程主机上特定的端口-PA -p</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -PA -p 22,80 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 18:02 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">PORT   STATE SERVICE</span><br><span class="line">22/tcp open  ssh</span><br><span class="line">80/tcp open  http</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.166 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="26-使用TCP-Syn扫描远程主机上特定的端口"><a href="#26-使用TCP-Syn扫描远程主机上特定的端口" class="headerlink" title="26. 使用TCP Syn扫描远程主机上特定的端口"></a>26. 使用TCP Syn扫描远程主机上特定的端口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -PS -p 22,80 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 18:08 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">PORT   STATE SERVICE</span><br><span class="line">22/tcp open  ssh</span><br><span class="line">80/tcp open  http</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.165 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="27-执行一次隐蔽的扫描-sS"><a href="#27-执行一次隐蔽的扫描-sS" class="headerlink" title="27.执行一次隐蔽的扫描-sS"></a>27.执行一次隐蔽的扫描-sS</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -sS 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 18:10 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.383 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="28-使用TCP-Syn扫描最常用的端口-sT"><a href="#28-使用TCP-Syn扫描最常用的端口-sT" class="headerlink" title="28.使用TCP Syn扫描最常用的端口-sT"></a>28.使用TCP Syn扫描最常用的端口-sT</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -sT 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 18:12 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">957/tcp  open  unknown</span><br><span class="line">3306/tcp open  mysql</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 0.406 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="29-执行TCP空扫描以骗过防火墙-sN"><a href="#29-执行TCP空扫描以骗过防火墙-sN" class="headerlink" title="29.执行TCP空扫描以骗过防火墙-sN"></a>29.执行TCP空扫描以骗过防火墙-sN</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# nmap -sN 192.168.0.101</span><br><span class="line"> </span><br><span class="line">Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2013-11-11 19:01 EST</span><br><span class="line">Interesting ports on server2.tecmint.com (192.168.0.101):</span><br><span class="line">Not shown: 1674 closed ports</span><br><span class="line">PORT     STATE         SERVICE</span><br><span class="line">22/tcp   open|filtered ssh</span><br><span class="line">80/tcp   open|filtered http</span><br><span class="line">111/tcp  open|filtered rpcbind</span><br><span class="line">957/tcp  open|filtered unknown</span><br><span class="line">3306/tcp open|filtered mysql</span><br><span class="line">8888/tcp open|filtered sun-answerbook</span><br><span class="line">MAC Address: 08:00:27:D9:8E:D7 (Cadmus Computer Systems)</span><br><span class="line"> </span><br><span class="line">Nmap finished: 1 IP address (1 host up) scanned in 1.584 seconds</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h3 id="指令分类"><a href="#指令分类" class="headerlink" title="指令分类"></a>指令分类</h3><h4 id="初级使用"><a href="#初级使用" class="headerlink" title="初级使用"></a>初级使用</h4><p>nmap -v scanme.nmap.org</p>
<p>这个选项扫描主机scanme.nmap.org中所有的保留TCP端口。选项-v启用细节模式。</p>
<p>nmap -A -T4 scanme.nmap.org</p>
<p>-A用来进行操作系统及其版本的探测，-T4 可以加快执行速度</p>
<p>nmap -sS -O scanme.nmap.org/24</p>
<p>进行秘密SYN扫描，对象为主机Saznme所在的“C类”网段的255台主机。同时尝试确定每台工作主机的操作系统类型。因为进行SYN扫描 和操作系统检测，这个扫描需要有根权限。</p>
<p>nmap -sV -p 22，53，110，143，4564 198.116.0-255.1-127</p>
<p>进行主机列举和TCP扫描，对象为B类198.116网段中255个8位子网。这 个测试用于确定系统是否运行了sshd、DNS、imapd或4564端口。如果这些端口 打开，将使用版本检测来确定哪种应用在运行。(-sV)</p>
<p>nmap -v -iR 100000 -P0 -p 80</p>
<p>随机选择100000台主机扫描是否运行Web服务器(80端口)。由起始阶段发送探测报文来确定主机是否工作非常浪费时间，而且只需探测主机的一个端口，因此使用-P0禁止对主机列表。</p>
<p>nmap -P0 -p80 -oX logs/pb-port80scan.xml -oG logs/pb-port80scan.gnmap 216.163.128.20/20</p>
<p>扫描4096个IP地址，查找Web服务器(不ping)，将结果以Grep和XML格式保存。</p>
<p>host -l company.com | cut -d -f 4 | nmap -v -iL -</p>
<p>进行DNS区域传输，以发现company.com中的主机，然后将IP地址提供给 Nmap。上述命令用于GNU/Linux – 其它系统进行区域传输时有不同的命令。</p>
<h4 id="深入扫描命令"><a href="#深入扫描命令" class="headerlink" title="深入扫描命令"></a>深入扫描命令</h4><p>-Pn  不探测扫描（假定所有主机都存活）</p>
<p>-PB  默认探测扫描（探测端口：TCP 80，445&amp;ICMP）</p>
<p>-PS  &lt;portlist&gt;  tcp探测扫描</p>
<p>-PE  ICMP Echo Request</p>
<p>-PP  ICMP Timestamp Request</p>
<p>-PM  ICMP Netmask Request</p>
<h4 id="扫描类型"><a href="#扫描类型" class="headerlink" title="扫描类型"></a>扫描类型</h4><p>-sP  只探测主机在线情况</p>
<p>-sS  SYN扫描（隐身扫描）</p>
<p>-ST  TCP扫描</p>
<p>-sU  UDP扫描</p>
<p>-sV  系统版本检测</p>
<p>-O   操作系统识别</p>
<p>–scanflags  指定TCP标识位（设置URG, ACK, PSH,RST,SYN,FIN位）</p>
<h4 id="细粒度的时间选项"><a href="#细粒度的时间选项" class="headerlink" title="细粒度的时间选项"></a>细粒度的时间选项</h4><p>–min-hostgroup/max-hostgroup <size>  平行的主机扫描组的大小</size></p>
<p>–min-parallelism/max-parallelism <numprobes>  并行探测</numprobes></p>
<p>–min-rtt-timeout/max-rtttimeout/initial-rtt-timeout <time>   指定每轮探测的时间</time></p>
<p>–max-retries <tries>    扫描探测的上限次数设定</tries></p>
<p>–host-timeout <time>    设置timeout时间</time></p>
<p>–scan-delay/–max-scan-delay <time>  调整两次探测之间的延迟</time></p>
<p>–min-rate <number>     每秒发送数据包不少于<number>次</number></number></p>
<h4 id="时序选项"><a href="#时序选项" class="headerlink" title="时序选项"></a>时序选项</h4><p>-T0  偏执的：非常非常慢，用于IDS逃逸</p>
<p>-T1  猥琐的：相当慢，用于IDS逃逸</p>
<p>-T2  有礼貌的：降低速度以消耗更小的带宽，比默认慢十倍</p>
<p>-T3  普通的：默认，根据目标的反应自动调整时间模式</p>
<p>-T4  野蛮的：假定处在一个很好的网络环境，请求可能会淹没目标</p>
<p>-T5  疯狂的：非常野蛮，很可能会淹没目标端口或是漏掉一些开放端口</p>
<h4 id="misc选项"><a href="#misc选项" class="headerlink" title="misc选项"></a>misc选项</h4><p>-n  禁止反向IP地址查找</p>
<p>-6  只是用 IPv6</p>
<p>-A  是用几个命令：OS 探测，版本探测，脚本扫描，traceroute</p>
<p>–reason 列出nmap的判断：端口开放，关闭，被过滤。</p>
<h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h4><p>-oN  标准输出</p>
<p>-oG  好理解的格式</p>
<p>-ox  xml格式</p>
<p>-oA&lt;basename&gt;  用&lt;basename&gt;生成以上格式的文件 </p>
<h3 id="线下AWD必须用好的nmap指令"><a href="#线下AWD必须用好的nmap指令" class="headerlink" title="线下AWD必须用好的nmap指令"></a>线下AWD必须用好的nmap指令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1.9 使用nmap扫描主机</span><br><span class="line">//  http://nmap.org/book/</span><br><span class="line">#nmap --version  // -V -h</span><br><span class="line">#man nmap	</span><br><span class="line"></span><br><span class="line">#nmap -vv 	-vv参数设置对结果的详细输出</span><br><span class="line">#nmap -sS -Pn -A host	隐身、操作系统信息和路由跟踪、-P0和-Pn两个选项的效果是一样的，就是不进行主机发现，而直接进行更深层次的扫描，如服务版本扫描或系统类型扫描。-Pn  不探测扫描（假定所有主机都存活）</span><br><span class="line"></span><br><span class="line">#nmap -A -T4 scanme.nmap.org</span><br><span class="line">// -A:to enable OS and version detection, script scanning,and traceroute;</span><br><span class="line">// -T4:faster execution加快执行速度</span><br><span class="line"></span><br><span class="line">#nmap localhost</span><br><span class="line">// #netstat -apn | grep 8080 ===&gt; port 8080 process</span><br><span class="line"></span><br><span class="line">*多机快速扫描</span><br><span class="line">#nmap -vv -sP 192.168.102.1-254	-sP是使用ICMP协议发送echo请求数据包，但是很容易被防火墙过滤掉。</span><br><span class="line"></span><br><span class="line">// ==&gt;在线主机</span><br><span class="line">#nmap -vv -sP 192.168.102.1-254 | grep &apos;report for.*[0-9]$&apos;</span><br><span class="line">#nmap -v -n -sP --max-rtt-timeout 500ms 192.168.102.1-254</span><br><span class="line"></span><br><span class="line">// ==&gt;在线主机:端口开放  -n 禁止反向IP地址查找</span><br><span class="line">#nmap -v -n -sS -Pn -p22 --max-rtt-timeout 500ms 192.168.102.1-254 | grep &apos;open&apos;</span><br><span class="line">#nmap -v -n -sS -Pn -p21，22，80，8080，3306 --max-rtt-timeout 500ms 192.168.102.1-254 | grep &apos;open&apos;</span><br><span class="line">#nmap -v -n -sS -Pn -p1-1024 --max-rtt-timeout 500ms 192.168.102.1-254 | grep &apos;open&apos;</span><br><span class="line">--max-rtt-timeout调整探测报文超时</span><br><span class="line"></span><br><span class="line">&gt; results.txt	重定向发送到文件</span><br></pre></td></tr></table></figure>

<h3 id="番外AWD"><a href="#番外AWD" class="headerlink" title="番外AWD"></a>番外AWD</h3><p>附上AWD基操</p>
<h4 id="1、确定环境是密码登录还是密钥登录"><a href="#1、确定环境是密码登录还是密钥登录" class="headerlink" title="1、确定环境是密码登录还是密钥登录"></a>1、确定环境是密码登录还是密钥登录</h4><p>密钥登录：（比赛方会提供如下三个文件）</p>
<p>id_rsa</p>
<p>id_rsa.pub</p>
<p>token.txt</p>
<p>文件导入即可</p>
<p>若为密码登录，则看密码是否为随机的哈希值，并推测全场密码是否一样，若一样则首先需要修改密码，避免对方写批量遍历脚本，遍历所有服务器，当可以登录时，就瞬间修改你的机子，然后你就什么都做不了，服务器都落到对方手中，除非重置机子。</p>
<p>修改密码：passwd 用户名    //linux命令</p>
<p>​                    passwd ubuntu sudo passwd root   //ubuntu命令： </p>
<p>​                    w   //查看当前登录的用户 </p>
<p>​                    kill -kill -t 用户的tty   //踢掉当前登录的用户</p>
<h4 id="2、迅速备份源码和数据库到本机"><a href="#2、迅速备份源码和数据库到本机" class="headerlink" title="2、迅速备份源码和数据库到本机"></a>2、迅速备份源码和数据库到本机</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//这里假定web目录为/var/www/html</span><br><span class="line">mkdir -p ~/beifen</span><br><span class="line">cp -ra /var/www/html/. ~/beifen</span><br><span class="line">其中~代表用户的家目录，-r是递归，-a是保留原来文件属性， .是代表所有文件（不用*，因为*无法表示所有文件）</span><br></pre></td></tr></table></figure>

<p>定时备份源码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">while</span> [ 1 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">time=`/bin/date +%H-%M-%S`</span><br><span class="line">bak_file=<span class="string">"/var/www/<span class="variable">$time</span>.tar.gz"</span></span><br><span class="line">webdir=<span class="string">"/var/www/html"</span></span><br><span class="line">tar zcvf <span class="variable">$bak_file</span> <span class="variable">$webdir</span> &gt;/dev/null 2&gt;&amp;1 &amp;</span><br><span class="line">sleep 60                               //一分钟备份一次</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h4 id="3、找配置文件-amp-mysql一些操作"><a href="#3、找配置文件-amp-mysql一些操作" class="headerlink" title="3、找配置文件&amp;mysql一些操作"></a>3、找配置文件&amp;mysql一些操作</h4><p>找配置文件，找文件名有con、config、db字样的。在刚才备份的文件那里可以使用linux命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name &apos;*name*&apos;</span><br></pre></td></tr></table></figure>

<p>找到这些文件后，最主要找一些账号密码，例如mysql账号密码，如果找到了，自己可以修改自己服务器上的mysql密码，命令如下：（先自己登陆进去）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br><span class="line">mysql&gt; update user set password=PASSWORD(&quot;新的密码&quot;) where user=&apos;root&apos;; </span><br><span class="line">mysql&gt; flush privileges; (刷新)</span><br><span class="line">mysql&gt; exit</span><br></pre></td></tr></table></figure>

<p>记得修改了mysql密码后，还要把刚才找到的配置文件的密码给修改了，不然你的web服务就会不正常。</p>
<p>得到mysql密码，一般来说你就可以看看你自己mysql数据库里的数据，一般来说别人的数据库记录也是如此，所以别人一些后台账号密码，你都可以找到的（如果里面入库是不经过哈希处理的）</p>
<p>另外，也多注意有什么别的配置文件。</p>
<p>备份数据库</p>
<p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//mysql备份指定数据库 </span><br><span class="line">mysqldump -u 用户名 -p 密码 数据库名 &gt; back.sql </span><br><span class="line">//mysql备份所有数据库 </span><br><span class="line">mysqldump --all-databases &gt; bak.sql </span><br><span class="line">//还原mysql数据库 </span><br><span class="line">mysql -u 用户名 -p 密码 数据库名 &lt; bak.sql</span><br></pre></td></tr></table></figure>

<h4 id="4、嗅探主机（nmap）"><a href="#4、嗅探主机（nmap）" class="headerlink" title="4、嗅探主机（nmap）"></a>4、嗅探主机（nmap）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ICMP扫描： nmap -sP 192.168.150.0/24</span><br><span class="line">检测目标操作系统： -O</span><br><span class="line">SYN扫描  ： -sS</span><br><span class="line">操作系统版本检测： -sV</span><br><span class="line">nmap -sS -p 1337 192.168.150.0/24</span><br></pre></td></tr></table></figure>

<h4 id="5、嗅探主机-MASSCAN"><a href="#5、嗅探主机-MASSCAN" class="headerlink" title="5、嗅探主机(MASSCAN)"></a>5、嗅探主机(MASSCAN)</h4><p><strong>安装</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install clang git gcc make libpcap-dev</span><br><span class="line">$ git clone https://github.com/robertdavidgraham/masscan</span><br><span class="line">$ cd masscan</span><br><span class="line">$ make</span><br></pre></td></tr></table></figure>

<p><strong>单端口扫描</strong></p>
<p>扫描443端口的B类子网</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ Masscan 10.11.0.0/16 -p443</span><br></pre></td></tr></table></figure>

<p><strong>多端口扫描</strong></p>
<p>扫描80或443端口的B类子网</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ Masscan 10.11.0.0/16 -p80,443</span><br></pre></td></tr></table></figure>

<p><strong>扫描一系列端口</strong></p>
<p>扫描22到25端口的B类子网</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ Masscan 10.11.0.0/16 -p22-25</span><br></pre></td></tr></table></figure>

<p><strong>快速扫描</strong></p>
<p>使用如上的的设置可以得到结果，但速度将是比较慢。正如已经讨论的那样，整体上masscan要快一点，所以让我们加快速度。</p>
<p>默认情况下，Masscan扫描速度为每秒100个数据包，这是相当慢的。为了增加这一点，只需提供该-rate选项并指定一个值。</p>
<p>扫描100个常见端口的B类子网，每秒100,000个数据包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ Masscan 10.11.0.0/16  --top-ports 100 -rate 100000</span><br></pre></td></tr></table></figure>

<p>你可以扫描的速度取决于很多因素，包括您的操作系统（Linux扫描扫描远远快于Windows），系统的资源，最重要的是您的带宽。为了以高速扫描非常大的网络，您需要使用百万以上的速率（-rate 1000000）。</p>
<p><strong>排除目标</strong></p>
<p>因为大部分的互联网可以很好地进行扫描，也可能只是出于纯粹的礼貌 – 你可能想要或需要从扫描中排除一些目标。为此，请提供–excludefile交换机以及包含要避免的范围列表的文件的名称。</p>
<p>扫描B类子网，但避免在exclude.txt中的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ Masscan 10.11.0.0/16  --top-ports 100 --excludefile exclude.txt</span><br></pre></td></tr></table></figure>

<p><strong>结果保存</strong></p>
<p>您可以使用标准的Unix重定向器将输出发送到文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ Masscan 10.11.0.0/16  --top-ports 100 &gt; results.txt</span><br></pre></td></tr></table></figure>

<p> 除此之外，您还具有以下输出选项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-oX filename：输出到filename的XML。</span><br><span class="line">-oG filename：输出到filename的grepable格式。</span><br><span class="line">-oJ filename：输出到filename的JSON格式。</span><br></pre></td></tr></table></figure>

<p><strong>Nmap功能</strong></p>
<p>正如最初提到的，Masscan可以像nmap许多安全人员一样工作。这里有一些其他类似nmap的选项：</p>
<p>通过传递–nmap开关可以看到类似nmap的功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. -iL filename：从文件读取输入。</span><br><span class="line">2. ‐‐exclude host：在命令行中排除网络。</span><br><span class="line">3. ‐‐excludefile filename：从文件中排除网络。</span><br><span class="line">4. -S：欺骗源IP。</span><br><span class="line">5. -v interface：详细输出。</span><br><span class="line">6. -vv interface：非常冗长的输出。</span><br><span class="line">7. -e interface：使用指定的接口。</span><br><span class="line">8. -e interface：使用指定的接口。</span><br></pre></td></tr></table></figure>

<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><hr>
<p><a href="https://www.cnblogs.com/machangwei-8/p/10353004.html" target="_blank" rel="noopener">https://www.cnblogs.com/machangwei-8/p/10353004.html</a></p>
<p><a href="https://www.cnblogs.com/zhaijiahui/p/8367327.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhaijiahui/p/8367327.html</a></p>
<p><a href="https://www.cnblogs.com/xdjun/p/9562030.html" target="_blank" rel="noopener">https://www.cnblogs.com/xdjun/p/9562030.html</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/note/" rel="tag"># note</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/21/python 正则/" rel="next" title="python 正则">
                <i class="fa fa-chevron-left"></i> python 正则
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/28/The_First_Day_for_Web/" rel="prev" title="The First Day for Web">
                The First Day for Web <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">V</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                blogroll
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://fzwjscj.top/" title="fzwjscj" target="_blank">fzwjscj</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://dldxz.cn/" title="DLDXZ" target="_blank">DLDXZ</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://fanda.cloud/" title="fanda" target="_blank">fanda</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://passingfoam.com/" title="PassingFoam's blog" target="_blank">PassingFoam's blog</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#nmap"><span class="nav-number">1.</span> <span class="nav-text">nmap</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言："><span class="nav-number">1.1.</span> <span class="nav-text">前言：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#引入："><span class="nav-number">1.1.1.</span> <span class="nav-text">引入：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-用主机名和IP地址扫描系统"><span class="nav-number">1.1.2.</span> <span class="nav-text">1. 用主机名和IP地址扫描系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-扫描使用“-v”选项"><span class="nav-number">1.1.3.</span> <span class="nav-text">2.扫描使用“-v”选项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-扫描多台主机"><span class="nav-number">1.1.4.</span> <span class="nav-text">3.扫描多台主机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-扫描整个子网"><span class="nav-number">1.1.5.</span> <span class="nav-text">4.扫描整个子网 *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-使用IP地址的最后一个字节扫描多台服务器-，"><span class="nav-number">1.1.6.</span> <span class="nav-text">5.使用IP地址的最后一个字节扫描多台服务器 ，</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-从一个文件中扫描主机列表-iL"><span class="nav-number">1.1.7.</span> <span class="nav-text">6. 从一个文件中扫描主机列表 -iL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-扫描一个IP地址范围"><span class="nav-number">1.1.8.</span> <span class="nav-text">7.扫描一个IP地址范围 -</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-排除一些远程主机后再扫描–exclude"><span class="nav-number">1.1.9.</span> <span class="nav-text">8.排除一些远程主机后再扫描–exclude</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-扫描操作系统信息和路由跟踪-A"><span class="nav-number">1.1.10.</span> <span class="nav-text">9.扫描操作系统信息和路由跟踪-A</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-启用Nmap的操作系统探测功能-O"><span class="nav-number">1.1.11.</span> <span class="nav-text">10.启用Nmap的操作系统探测功能-O</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-扫描主机侦测防火墙-sA"><span class="nav-number">1.1.12.</span> <span class="nav-text">11.扫描主机侦测防火墙-sA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-扫描主机检测是否有防火墙保护-PN"><span class="nav-number">1.1.13.</span> <span class="nav-text">12.扫描主机检测是否有防火墙保护-PN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-找出网络中的在线主机-sP"><span class="nav-number">1.1.14.</span> <span class="nav-text">13.找出网络中的在线主机-sP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-执行快速扫描-F"><span class="nav-number">1.1.15.</span> <span class="nav-text">14.执行快速扫描-F</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-查看Nmap的版本"><span class="nav-number">1.1.16.</span> <span class="nav-text">15.查看Nmap的版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-顺序扫描端口-r"><span class="nav-number">1.1.17.</span> <span class="nav-text">16.顺序扫描端口-r</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-打印主机接口和路由-iflist"><span class="nav-number">1.1.18.</span> <span class="nav-text">17.打印主机接口和路由-iflist</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-扫描特定的端口-p"><span class="nav-number">1.1.19.</span> <span class="nav-text">18.扫描特定的端口-p</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-扫描TCP端口-p-T"><span class="nav-number">1.1.20.</span> <span class="nav-text">19.扫描TCP端口-p T:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-扫描UDP端口-sU"><span class="nav-number">1.1.21.</span> <span class="nav-text">20.扫描UDP端口-sU</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-扫描多个端口"><span class="nav-number">1.1.22.</span> <span class="nav-text">21.扫描多个端口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-扫描指定范围内的端口"><span class="nav-number">1.1.23.</span> <span class="nav-text">22.扫描指定范围内的端口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-查找主机服务版本号-sV"><span class="nav-number">1.1.24.</span> <span class="nav-text">23.查找主机服务版本号-sV</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-使用TCP-ACK-PA-和TCP-Syn-PS-扫描远程主机"><span class="nav-number">1.1.25.</span> <span class="nav-text">24.使用TCP ACK (-PA)和TCP Syn (-PS)扫描远程主机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-使用TCP-ACK扫描远程主机上特定的端口-PA-p"><span class="nav-number">1.1.26.</span> <span class="nav-text">25.使用TCP ACK扫描远程主机上特定的端口-PA -p</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-使用TCP-Syn扫描远程主机上特定的端口"><span class="nav-number">1.1.27.</span> <span class="nav-text">26. 使用TCP Syn扫描远程主机上特定的端口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-执行一次隐蔽的扫描-sS"><span class="nav-number">1.1.28.</span> <span class="nav-text">27.执行一次隐蔽的扫描-sS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#28-使用TCP-Syn扫描最常用的端口-sT"><span class="nav-number">1.1.29.</span> <span class="nav-text">28.使用TCP Syn扫描最常用的端口-sT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#29-执行TCP空扫描以骗过防火墙-sN"><span class="nav-number">1.1.30.</span> <span class="nav-text">29.执行TCP空扫描以骗过防火墙-sN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#指令分类"><span class="nav-number">1.1.31.</span> <span class="nav-text">指令分类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#初级使用"><span class="nav-number">1.1.31.1.</span> <span class="nav-text">初级使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#深入扫描命令"><span class="nav-number">1.1.31.2.</span> <span class="nav-text">深入扫描命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#扫描类型"><span class="nav-number">1.1.31.3.</span> <span class="nav-text">扫描类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#细粒度的时间选项"><span class="nav-number">1.1.31.4.</span> <span class="nav-text">细粒度的时间选项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#时序选项"><span class="nav-number">1.1.31.5.</span> <span class="nav-text">时序选项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#misc选项"><span class="nav-number">1.1.31.6.</span> <span class="nav-text">misc选项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#输出格式"><span class="nav-number">1.1.31.7.</span> <span class="nav-text">输出格式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线下AWD必须用好的nmap指令"><span class="nav-number">1.1.32.</span> <span class="nav-text">线下AWD必须用好的nmap指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#番外AWD"><span class="nav-number">1.1.33.</span> <span class="nav-text">番外AWD</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1、确定环境是密码登录还是密钥登录"><span class="nav-number">1.1.33.1.</span> <span class="nav-text">1、确定环境是密码登录还是密钥登录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2、迅速备份源码和数据库到本机"><span class="nav-number">1.1.33.2.</span> <span class="nav-text">2、迅速备份源码和数据库到本机</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3、找配置文件-amp-mysql一些操作"><span class="nav-number">1.1.33.3.</span> <span class="nav-text">3、找配置文件&amp;mysql一些操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4、嗅探主机（nmap）"><span class="nav-number">1.1.33.4.</span> <span class="nav-text">4、嗅探主机（nmap）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5、嗅探主机-MASSCAN"><span class="nav-number">1.1.33.5.</span> <span class="nav-text">5、嗅探主机(MASSCAN)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考"><span class="nav-number">1.1.34.</span> <span class="nav-text">参考</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">V</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
